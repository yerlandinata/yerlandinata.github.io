"use strict";var KTApp=function(){var colors={};var initTooltip=function(el){var skin=el.data('skin')?'tooltip-'+el.data('skin'):'';var width=el.data('width')=='auto'?'tooltop-auto-width':'';var triggerValue=el.data('trigger')?el.data('trigger'):'hover';var placement=el.data('placement')?el.data('placement'):'left';el.tooltip({trigger:triggerValue,template:'<div class="tooltip '+skin+' '+width+'" role="tooltip">\
                <div class="arrow"></div>\
                <div class="tooltip-inner"></div>\
            </div>'})}
var initTooltips=function(){$('[data-toggle="kt-tooltip"]').each(function(){initTooltip($(this))})}
var initPopover=function(el){var skin=el.data('skin')?'popover-'+el.data('skin'):'';var triggerValue=el.data('trigger')?el.data('trigger'):'hover';el.popover({trigger:triggerValue,template:'\
            <div class="popover '+skin+'" role="tooltip">\
                <div class="arrow"></div>\
                <h3 class="popover-header"></h3>\
                <div class="popover-body"></div>\
            </div>'})}
var initPopovers=function(){$('[data-toggle="kt-popover"]').each(function(){initPopover($(this))})}
var initFileInput=function(){$('.custom-file-input').on('change',function(){var fileName=$(this).val();$(this).next('.custom-file-label').addClass("selected").html(fileName)})}
var initPortlet=function(el,options){var el=$(el);var portlet=new KTPortlet(el[0],options)}
var initPortlets=function(){$('[data-ktportlet="true"]').each(function(){var el=$(this);if(el.data('data-ktportlet-initialized')!==!0){initPortlet(el,{});el.data('data-ktportlet-initialized',!0)}})}
var initScroll=function(){$('[data-scroll="true"]').each(function(){var el=$(this);KTUtil.scrollInit(this,{disableForMobile:!0,handleWindowResize:!0,rememberPosition:(el.data('remember-position')=='true'?!0:!1),height:function(){if(KTUtil.isInResponsiveRange('tablet-and-mobile')&&el.data('mobile-height')){return el.data('mobile-height')}else{return el.data('height')}}})})}
var initAlerts=function(){$('body').on('click','[data-close=alert]',function(){$(this).closest('.alert').hide()})}
var initSticky=function(){var sticky=new Sticky('[data-sticky="true"]')}
var initAbsoluteDropdown=function(dropdown){var dropdownMenu;if(!dropdown){return}
dropdown.on('show.bs.dropdown',function(e){dropdownMenu=$(e.target).find('.dropdown-menu');$('body').append(dropdownMenu.detach());dropdownMenu.css('display','block');dropdownMenu.position({'my':'right top','at':'right bottom','of':$(e.relatedTarget)})});dropdown.on('hide.bs.dropdown',function(e){$(e.target).append(dropdownMenu.detach());dropdownMenu.hide()})}
var initAbsoluteDropdowns=function(){$('body').on('show.bs.dropdown',function(e){if($(e.target).find("[data-attach='body']").length===0){return}
var dropdownMenu=$(e.target).find('.dropdown-menu');$('body').append(dropdownMenu.detach());dropdownMenu.css('display','block');dropdownMenu.position({'my':'right top','at':'right bottom','of':$(e.relatedTarget)})});$('body').on('hide.bs.dropdown',function(e){if($(e.target).find("[data-attach='body']").length===0){return}
var dropdownMenu=$(e.target).find('.dropdown-menu');$(e.target).append(dropdownMenu.detach());dropdownMenu.hide()})}
return{init:function(options){if(options&&options.colors){colors=options.colors}
KTApp.initComponents()},initComponents:function(){initScroll();initTooltips();initPopovers();initAlerts();initPortlets();initFileInput();initSticky();initAbsoluteDropdowns()},initTooltips:function(){initTooltips()},initTooltip:function(el){initTooltip(el)},initPopovers:function(){initPopovers()},initPopover:function(el){initPopover(el)},initPortlet:function(el,options){initPortlet(el,options)},initPortlets:function(){initPortlets()},initSticky:function(){initSticky()},initAbsoluteDropdown:function(dropdown){initAbsoluteDropdown(dropdown)},block:function(target,options){var el=$(target);options=$.extend(!0,{opacity:0.03,overlayColor:'#000000',type:'',size:'',state:'brand',centerX:!0,centerY:!0,message:'',shadow:!0,width:'auto'},options);var html;var version=options.type?'kt-spinner--'+options.type:'';var state=options.state?'kt-spinner--'+options.state:'';var size=options.size?'kt-spinner--'+options.size:'';var spinner='<div class="kt-spinner '+version+' '+state+' '+size+'"></div';if(options.message&&options.message.length>0){var classes='blockui '+(options.shadow===!1?'blockui':'');html='<div class="'+classes+'"><span>'+options.message+'</span><span>'+spinner+'</span></div>';var el=document.createElement('div');KTUtil.get('body').prepend(el);KTUtil.addClass(el,classes);el.innerHTML='<span>'+options.message+'</span><span>'+spinner+'</span>';options.width=KTUtil.actualWidth(el)+10;KTUtil.remove(el);if(target=='body'){html='<div class="'+classes+'" style="margin-left:-'+(options.width/2)+'px;"><span>'+options.message+'</span><span>'+spinner+'</span></div>'}}else{html=spinner}
var params={message:html,centerY:options.centerY,centerX:options.centerX,css:{top:'30%',left:'50%',border:'0',padding:'0',backgroundColor:'none',width:options.width},overlayCSS:{backgroundColor:options.overlayColor,opacity:options.opacity,cursor:'wait',zIndex:'10'},onUnblock:function(){if(el&&el[0]){KTUtil.css(el[0],'position','');KTUtil.css(el[0],'zoom','')}}};if(target=='body'){params.css.top='50%';$.blockUI(params)}else{var el=$(target);el.block(params)}},unblock:function(target){if(target&&target!='body'){$(target).unblock()}else{$.unblockUI()}},blockPage:function(options){return KTApp.block('body',options)},unblockPage:function(){return KTApp.unblock('body')},progress:function(target,options){var skin=(options&&options.skin)?options.skin:'light';var alignment=(options&&options.alignment)?options.alignment:'right';var size=(options&&options.size)?'kt-spinner--'+options.size:'';var classes='kt-spinner '+'kt-spinner--'+skin+' kt-spinner--'+alignment+' kt-spinner--'+size;KTApp.unprogress(target);$(target).addClass(classes);$(target).data('progress-classes',classes)},unprogress:function(target){$(target).removeClass($(target).data('progress-classes'))},getStateColor:function(name){return colors.state[name]},getBaseColor:function(type,level){return colors.base[type][level-1]}}}();$(document).ready(function(){KTApp.init(KTAppOptions)});"use strict";this.Element&&function(ElementPrototype){ElementPrototype.matches=ElementPrototype.matches||ElementPrototype.matchesSelector||ElementPrototype.webkitMatchesSelector||ElementPrototype.msMatchesSelector||function(selector){var node=this,nodes=(node.parentNode||node.document).querySelectorAll(selector),i=-1;while(nodes[++i]&&nodes[i]!=node);return!!nodes[i]}}(Element.prototype);this.Element&&function(ElementPrototype){ElementPrototype.closest=ElementPrototype.closest||function(selector){var el=this;while(el.matches&&!el.matches(selector))el=el.parentNode;return el.matches?el:null}}(Element.prototype);if(!('remove' in Element.prototype)){Element.prototype.remove=function(){if(this.parentNode){this.parentNode.removeChild(this)}}}
this.Element&&function(ElementPrototype){ElementPrototype.matches=ElementPrototype.matches||ElementPrototype.matchesSelector||ElementPrototype.webkitMatchesSelector||ElementPrototype.msMatchesSelector||function(selector){var node=this,nodes=(node.parentNode||node.document).querySelectorAll(selector),i=-1;while(nodes[++i]&&nodes[i]!=node);return!!nodes[i]}}(Element.prototype);(function(){var lastTime=0;var vendors=['webkit','moz'];for(var x=0;x<vendors.length&&!window.requestAnimationFrame;++x){window.requestAnimationFrame=window[vendors[x]+'RequestAnimationFrame'];window.cancelAnimationFrame=window[vendors[x]+'CancelAnimationFrame']||window[vendors[x]+'CancelRequestAnimationFrame']}
if(!window.requestAnimationFrame)
window.requestAnimationFrame=function(callback){var currTime=new Date().getTime();var timeToCall=Math.max(0,16-(currTime-lastTime));var id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);lastTime=currTime+timeToCall;return id};if(!window.cancelAnimationFrame)
window.cancelAnimationFrame=function(id){clearTimeout(id)}}());(function(arr){arr.forEach(function(item){if(item.hasOwnProperty('prepend')){return}
Object.defineProperty(item,'prepend',{configurable:!0,enumerable:!0,writable:!0,value:function prepend(){var argArr=Array.prototype.slice.call(arguments),docFrag=document.createDocumentFragment();argArr.forEach(function(argItem){var isNode=argItem instanceof Node;docFrag.appendChild(isNode?argItem:document.createTextNode(String(argItem)))});this.insertBefore(docFrag,this.firstChild)}})})})([Element.prototype,Document.prototype,DocumentFragment.prototype]);window.KTUtilElementDataStore={};window.KTUtilElementDataStoreID=0;window.KTUtilDelegatedEventHandlers={};var KTUtil=function(){var resizeHandlers=[];var breakpoints={sm:544,md:768,lg:1024,xl:1200};var _windowResizeHandler=function(){var _runResizeHandlers=function(){for(var i=0;i<resizeHandlers.length;i++){var each=resizeHandlers[i];each.call()}};var timeout=!1;var delay=250;window.addEventListener('resize',function(){clearTimeout(timeout);timeout=setTimeout(function(){_runResizeHandlers()},delay)})};return{init:function(options){if(options&&options.breakpoints){breakpoints=options.breakpoints}
_windowResizeHandler()},addResizeHandler:function(callback){resizeHandlers.push(callback)},removeResizeHandler:function(callback){for(var i=0;i<resizeHandlers.length;i++){if(callback===resizeHandlers[i]){delete resizeHandlers[i]}}},runResizeHandlers:function(){_runResizeHandlers()},resize:function(){if(typeof(Event)==='function'){window.dispatchEvent(new Event('resize'))}else{var evt=window.document.createEvent('UIEvents');evt.initUIEvent('resize',!0,!1,window,0);window.dispatchEvent(evt)}},getURLParam:function(paramName){var searchString=window.location.search.substring(1),i,val,params=searchString.split("&");for(i=0;i<params.length;i++){val=params[i].split("=");if(val[0]==paramName){return unescape(val[1])}}
return null},isMobileDevice:function(){return(this.getViewPort().width<this.getBreakpoint('lg')?!0:!1)},isDesktopDevice:function(){return KTUtil.isMobileDevice()?!1:!0},getViewPort:function(){var e=window,a='inner';if(!('innerWidth' in window)){a='client';e=document.documentElement||document.body}
return{width:e[a+'Width'],height:e[a+'Height']}},isInResponsiveRange:function(mode){var breakpoint=this.getViewPort().width;if(mode=='general'){return!0}else if(mode=='desktop'&&breakpoint>=(this.getBreakpoint('lg')+1)){return!0}else if(mode=='tablet'&&(breakpoint>=(this.getBreakpoint('md')+1)&&breakpoint<this.getBreakpoint('lg'))){return!0}else if(mode=='mobile'&&breakpoint<=this.getBreakpoint('md')){return!0}else if(mode=='desktop-and-tablet'&&breakpoint>=(this.getBreakpoint('md')+1)){return!0}else if(mode=='tablet-and-mobile'&&breakpoint<=this.getBreakpoint('lg')){return!0}else if(mode=='minimal-desktop-and-below'&&breakpoint<=this.getBreakpoint('xl')){return!0}
return!1},getUniqueID:function(prefix){return prefix+Math.floor(Math.random()*(new Date()).getTime())},getBreakpoint:function(mode){return breakpoints[mode]},isset:function(obj,keys){var stone;keys=keys||'';if(keys.indexOf('[')!==-1){throw new Error('Unsupported object path notation.')}
keys=keys.split('.');do{if(obj===undefined){return!1}
stone=keys.shift();if(!obj.hasOwnProperty(stone)){return!1}
obj=obj[stone]}while(keys.length);return!0},getHighestZindex:function(el){var elem=KTUtil.get(el),position,value;while(elem&&elem!==document){position=KTUtil.css(elem,'position');if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(KTUtil.css(elem,'z-index'));if(!isNaN(value)&&value!==0){return value}}
elem=elem.parentNode}
return null},hasFixedPositionedParent:function(el){while(el&&el!==document){position=KTUtil.css(el,'position');if(position==="fixed"){return!0}
el=el.parentNode}
return!1},sleep:function(milliseconds){var start=new Date().getTime();for(var i=0;i<1e7;i++){if((new Date().getTime()-start)>milliseconds){break}}},getRandomInt:function(min,max){return Math.floor(Math.random()*(max-min+1))+min},isAngularVersion:function(){return window.Zone!==undefined?!0:!1},deepExtend:function(out){out=out||{};for(var i=1;i<arguments.length;i++){var obj=arguments[i];if(!obj)
continue;for(var key in obj){if(obj.hasOwnProperty(key)){if(typeof obj[key]==='object')
out[key]=KTUtil.deepExtend(out[key],obj[key]);else out[key]=obj[key]}}}
return out},extend:function(out){out=out||{};for(var i=1;i<arguments.length;i++){if(!arguments[i])
continue;for(var key in arguments[i]){if(arguments[i].hasOwnProperty(key))
out[key]=arguments[i][key]}}
return out},get:function(query){var el;if(query===document){return document}
if(!!(query&&query.nodeType===1)){return query}
if(el=document.getElementById(query)){return el}else if(el=document.getElementsByTagName(query)){return el[0]}else if(el=document.getElementsByClassName(query)){return el[0]}else{return null}},getByID:function(query){if(!!(query&&query.nodeType===1)){return query}
return document.getElementById(query)},getByTag:function(query){var el;if(el=document.getElementsByTagName(query)){return el[0]}else{return null}},getByClass:function(query){var el;if(el=document.getElementsByClassName(query)){return el[0]}else{return null}},hasClasses:function(el,classes){if(!el){return}
var classesArr=classes.split(" ");for(var i=0;i<classesArr.length;i++){if(KTUtil.hasClass(el,KTUtil.trim(classesArr[i]))==!1){return!1}}
return!0},hasClass:function(el,className){if(!el){return}
return el.classList?el.classList.contains(className):new RegExp('\\b'+className+'\\b').test(el.className)},addClass:function(el,className){if(!el||typeof className==='undefined'){return}
var classNames=className.split(' ');if(el.classList){for(var i=0;i<classNames.length;i++){if(classNames[i]&&classNames[i].length>0){el.classList.add(KTUtil.trim(classNames[i]))}}}else if(!KTUtil.hasClass(el,className)){for(var i=0;i<classNames.length;i++){el.className+=' '+KTUtil.trim(classNames[i])}}},removeClass:function(el,className){if(!el||typeof className==='undefined'){return}
var classNames=className.split(' ');if(el.classList){for(var i=0;i<classNames.length;i++){el.classList.remove(KTUtil.trim(classNames[i]))}}else if(KTUtil.hasClass(el,className)){for(var i=0;i<classNames.length;i++){el.className=el.className.replace(new RegExp('\\b'+KTUtil.trim(classNames[i])+'\\b','g'),'')}}},triggerCustomEvent:function(el,eventName,data){if(window.CustomEvent){var event=new CustomEvent(eventName,{detail:data})}else{var event=document.createEvent('CustomEvent');event.initCustomEvent(eventName,!0,!0,data)}
el.dispatchEvent(event)},triggerEvent:function(node,eventName){var doc;if(node.ownerDocument){doc=node.ownerDocument}else if(node.nodeType==9){doc=node}else{throw new Error("Invalid node passed to fireEvent: "+node.id)}
if(node.dispatchEvent){var eventClass="";switch(eventName){case "click":case "mouseenter":case "mouseleave":case "mousedown":case "mouseup":eventClass="MouseEvents";break;case "focus":case "change":case "blur":case "select":eventClass="HTMLEvents";break;default:throw "fireEvent: Couldn't find an event class for event '"+eventName+"'.";break}
var event=doc.createEvent(eventClass);var bubbles=eventName=="change"?!1:!0;event.initEvent(eventName,bubbles,!0);event.synthetic=!0;node.dispatchEvent(event,!0)}else if(node.fireEvent){var event=doc.createEventObject();event.synthetic=!0;node.fireEvent("on"+eventName,event)}},index:function(elm){elm=KTUtil.get(elm);var c=elm.parentNode.children,i=0;for(;i<c.length;i++)
if(c[i]==elm)return i},trim:function(string){return string.trim()},eventTriggered:function(e){if(e.currentTarget.dataset.triggered){return!0}else{e.currentTarget.dataset.triggered=!0;return!1}},remove:function(el){if(el&&el.parentNode){el.parentNode.removeChild(el)}},find:function(parent,query){parent=KTUtil.get(parent);if(parent){return parent.querySelector(query)}},findAll:function(parent,query){parent=KTUtil.get(parent);if(parent){return parent.querySelectorAll(query)}},insertAfter:function(el,referenceNode){return referenceNode.parentNode.insertBefore(el,referenceNode.nextSibling)},parents:function(elem,selector){if(!Element.prototype.matches){Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(s){var matches=(this.document||this.ownerDocument).querySelectorAll(s),i=matches.length;while(--i>=0&&matches.item(i)!==this){}
return i>-1}}
var parents=[];for(;elem&&elem!==document;elem=elem.parentNode){if(selector){if(elem.matches(selector)){parents.push(elem)}
continue}
parents.push(elem)}
return parents},children:function(el,selector,log){if(!el||!el.childNodes){return}
var result=[],i=0,l=el.childNodes.length;for(var i;i<l;++i){if(el.childNodes[i].nodeType==1&&KTUtil.matches(el.childNodes[i],selector,log)){result.push(el.childNodes[i])}}
return result},child:function(el,selector,log){var children=KTUtil.children(el,selector,log);return children?children[0]:null},matches:function(el,selector,log){var p=Element.prototype;var f=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.msMatchesSelector||function(s){return[].indexOf.call(document.querySelectorAll(s),this)!==-1};if(el&&el.tagName){return f.call(el,selector)}else{return!1}},data:function(element){element=KTUtil.get(element);return{set:function(name,data){if(element===undefined){return}
if(element.customDataTag===undefined){KTUtilElementDataStoreID++;element.customDataTag=KTUtilElementDataStoreID}
if(KTUtilElementDataStore[element.customDataTag]===undefined){KTUtilElementDataStore[element.customDataTag]={}}
KTUtilElementDataStore[element.customDataTag][name]=data},get:function(name){if(element===undefined){return}
if(element.customDataTag===undefined){return null}
return this.has(name)?KTUtilElementDataStore[element.customDataTag][name]:null},has:function(name){if(element===undefined){return!1}
if(element.customDataTag===undefined){return!1}
return(KTUtilElementDataStore[element.customDataTag]&&KTUtilElementDataStore[element.customDataTag][name])?!0:!1},remove:function(name){if(element&&this.has(name)){delete KTUtilElementDataStore[element.customDataTag][name]}}}},outerWidth:function(el,margin){var width;if(margin===!0){var width=parseFloat(el.offsetWidth);width+=parseFloat(KTUtil.css(el,'margin-left'))+parseFloat(KTUtil.css(el,'margin-right'));return parseFloat(width)}else{var width=parseFloat(el.offsetWidth);return width}},offset:function(elem){var rect,win;elem=KTUtil.get(elem);if(!elem){return}
if(!elem.getClientRects().length){return{top:0,left:0}}
rect=elem.getBoundingClientRect();win=elem.ownerDocument.defaultView;return{top:rect.top+win.pageYOffset,left:rect.left+win.pageXOffset}},height:function(el){return KTUtil.css(el,'height')},visible:function(el){return!(el.offsetWidth===0&&el.offsetHeight===0)},attr:function(el,name,value){el=KTUtil.get(el);if(el==undefined){return}
if(value!==undefined){el.setAttribute(name,value)}else{return el.getAttribute(name)}},hasAttr:function(el,name){el=KTUtil.get(el);if(el==undefined){return}
return el.getAttribute(name)?!0:!1},removeAttr:function(el,name){el=KTUtil.get(el);if(el==undefined){return}
el.removeAttribute(name)},animate:function(from,to,duration,update,easing,done){var easings={};var easing;easings.linear=function(t,b,c,d){return c*t/d+b};easing=easings.linear;if(typeof from!=='number'||typeof to!=='number'||typeof duration!=='number'||typeof update!=='function'){return}
if(typeof done!=='function'){done=function(){}}
var rAF=window.requestAnimationFrame||function(callback){window.setTimeout(callback,1000/50)};var canceled=!1;var change=to-from;function loop(timestamp){var time=(timestamp||+new Date())-start;if(time>=0){update(easing(time,from,change,duration))}
if(time>=0&&time>=duration){update(to);done()}else{rAF(loop)}}
update(from);var start=window.performance&&window.performance.now?window.performance.now():+new Date();rAF(loop)},actualCss:function(el,prop,cache){el=KTUtil.get(el);var css='';if(el instanceof HTMLElement===!1){return}
if(!el.getAttribute('kt-hidden-'+prop)||cache===!1){var value;css=el.style.cssText;el.style.cssText='position: absolute; visibility: hidden; display: block;';if(prop=='width'){value=el.offsetWidth}else if(prop=='height'){value=el.offsetHeight}
el.style.cssText=css;el.setAttribute('kt-hidden-'+prop,value);return parseFloat(value)}else{return parseFloat(el.getAttribute('kt-hidden-'+prop))}},actualHeight:function(el,cache){return KTUtil.actualCss(el,'height',cache)},actualWidth:function(el,cache){return KTUtil.actualCss(el,'width',cache)},getScroll:function(element,method){method='scroll'+method;return(element==window||element==document)?(self[(method=='scrollTop')?'pageYOffset':'pageXOffset']||(browserSupportsBoxModel&&document.documentElement[method])||document.body[method]):element[method]},css:function(el,styleProp,value){el=KTUtil.get(el);if(!el){return}
if(value!==undefined){el.style[styleProp]=value}else{var value,defaultView=(el.ownerDocument||document).defaultView;if(defaultView&&defaultView.getComputedStyle){styleProp=styleProp.replace(/([A-Z])/g,"-$1").toLowerCase();return defaultView.getComputedStyle(el,null).getPropertyValue(styleProp)}else if(el.currentStyle){styleProp=styleProp.replace(/\-(\w)/g,function(str,letter){return letter.toUpperCase()});value=el.currentStyle[styleProp];if(/^\d+(em|pt|%|ex)?$/i.test(value)){return(function(value){var oldLeft=el.style.left,oldRsLeft=el.runtimeStyle.left;el.runtimeStyle.left=el.currentStyle.left;el.style.left=value||0;value=el.style.pixelLeft+"px";el.style.left=oldLeft;el.runtimeStyle.left=oldRsLeft;return value})(value)}
return value}}},slide:function(el,dir,speed,callback,recalcMaxHeight){if(!el||(dir=='up'&&KTUtil.visible(el)===!1)||(dir=='down'&&KTUtil.visible(el)===!0)){return}
speed=(speed?speed:600);var calcHeight=KTUtil.actualHeight(el);var calcPaddingTop=!1;var calcPaddingBottom=!1;if(KTUtil.css(el,'padding-top')&&KTUtil.data(el).has('slide-padding-top')!==!0){KTUtil.data(el).set('slide-padding-top',KTUtil.css(el,'padding-top'))}
if(KTUtil.css(el,'padding-bottom')&&KTUtil.data(el).has('slide-padding-bottom')!==!0){KTUtil.data(el).set('slide-padding-bottom',KTUtil.css(el,'padding-bottom'))}
if(KTUtil.data(el).has('slide-padding-top')){calcPaddingTop=parseInt(KTUtil.data(el).get('slide-padding-top'))}
if(KTUtil.data(el).has('slide-padding-bottom')){calcPaddingBottom=parseInt(KTUtil.data(el).get('slide-padding-bottom'))}
if(dir=='up'){el.style.cssText='display: block; overflow: hidden;';if(calcPaddingTop){KTUtil.animate(0,calcPaddingTop,speed,function(value){el.style.paddingTop=(calcPaddingTop-value)+'px'},'linear')}
if(calcPaddingBottom){KTUtil.animate(0,calcPaddingBottom,speed,function(value){el.style.paddingBottom=(calcPaddingBottom-value)+'px'},'linear')}
KTUtil.animate(0,calcHeight,speed,function(value){el.style.height=(calcHeight-value)+'px'},'linear',function(){callback();el.style.height='';el.style.display='none'})}else if(dir=='down'){el.style.cssText='display: block; overflow: hidden;';if(calcPaddingTop){KTUtil.animate(0,calcPaddingTop,speed,function(value){el.style.paddingTop=value+'px'},'linear',function(){el.style.paddingTop=''})}
if(calcPaddingBottom){KTUtil.animate(0,calcPaddingBottom,speed,function(value){el.style.paddingBottom=value+'px'},'linear',function(){el.style.paddingBottom=''})}
KTUtil.animate(0,calcHeight,speed,function(value){el.style.height=value+'px'},'linear',function(){callback();el.style.height='';el.style.display='';el.style.overflow=''})}},slideUp:function(el,speed,callback){KTUtil.slide(el,'up',speed,callback)},slideDown:function(el,speed,callback){KTUtil.slide(el,'down',speed,callback)},show:function(el,display){if(typeof el!=='undefined'){el.style.display=(display?display:'block')}},hide:function(el){if(typeof el!=='undefined'){el.style.display='none'}},addEvent:function(el,type,handler,one){el=KTUtil.get(el);if(typeof el!=='undefined'){el.addEventListener(type,handler)}},removeEvent:function(el,type,handler){el=KTUtil.get(el);el.removeEventListener(type,handler)},on:function(element,selector,event,handler){if(!selector){return}
var eventId=KTUtil.getUniqueID('event');KTUtilDelegatedEventHandlers[eventId]=function(e){var targets=element.querySelectorAll(selector);var target=e.target;while(target&&target!==element){for(var i=0,j=targets.length;i<j;i++){if(target===targets[i]){handler.call(target,e)}}
target=target.parentNode}}
KTUtil.addEvent(element,event,KTUtilDelegatedEventHandlers[eventId]);return eventId},off:function(element,event,eventId){if(!element||!KTUtilDelegatedEventHandlers[eventId]){return}
KTUtil.removeEvent(element,event,KTUtilDelegatedEventHandlers[eventId]);delete KTUtilDelegatedEventHandlers[eventId]},one:function onetime(el,type,callback){el=KTUtil.get(el);el.addEventListener(type,function callee(e){if(e.target&&e.target.removeEventListener){e.target.removeEventListener(e.type,callee)}
return callback(e)})},hash:function(str){var hash=0,i,chr;if(str.length===0)return hash;for(i=0;i<str.length;i++){chr=str.charCodeAt(i);hash=((hash<<5)-hash)+chr;hash|=0}
return hash},animateClass:function(el,animationName,callback){var animation;var animations={animation:'animationend',OAnimation:'oAnimationEnd',MozAnimation:'mozAnimationEnd',WebkitAnimation:'webkitAnimationEnd',msAnimation:'msAnimationEnd',};for(var t in animations){if(el.style[t]!==undefined){animation=animations[t]}}
KTUtil.addClass(el,'animated '+animationName);KTUtil.one(el,animation,function(){KTUtil.removeClass(el,'animated '+animationName)});if(callback){KTUtil.one(el,animation,callback)}},transitionEnd:function(el,callback){var transition;var transitions={transition:'transitionend',OTransition:'oTransitionEnd',MozTransition:'mozTransitionEnd',WebkitTransition:'webkitTransitionEnd',msTransition:'msTransitionEnd'};for(var t in transitions){if(el.style[t]!==undefined){transition=transitions[t]}}
KTUtil.one(el,transition,callback)},animationEnd:function(el,callback){var animation;var animations={animation:'animationend',OAnimation:'oAnimationEnd',MozAnimation:'mozAnimationEnd',WebkitAnimation:'webkitAnimationEnd',msAnimation:'msAnimationEnd'};for(var t in animations){if(el.style[t]!==undefined){animation=animations[t]}}
KTUtil.one(el,animation,callback)},animateDelay:function(el,value){var vendors=['webkit-','moz-','ms-','o-',''];for(var i=0;i<vendors.length;i++){KTUtil.css(el,vendors[i]+'animation-delay',value)}},animateDuration:function(el,value){var vendors=['webkit-','moz-','ms-','o-',''];for(var i=0;i<vendors.length;i++){KTUtil.css(el,vendors[i]+'animation-duration',value)}},scrollTo:function(target,offset,duration){var duration=duration?duration:500;var target=KTUtil.get(target);var targetPos=target?KTUtil.offset(target).top:0;var scrollPos=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;var from,to;if(targetPos>scrollPos){from=targetPos;to=scrollPos}else{from=scrollPos;to=targetPos}
if(offset){to+=offset}
KTUtil.animate(from,to,duration,function(value){document.documentElement.scrollTop=value;document.body.parentNode.scrollTop=value;document.body.scrollTop=value})},scrollTop:function(offset,duration){KTUtil.scrollTo(null,offset,duration)},isArray:function(obj){return obj&&Array.isArray(obj)},ready:function(callback){if(document.attachEvent?document.readyState==="complete":document.readyState!=="loading"){callback()}else{document.addEventListener('DOMContentLoaded',callback)}},isEmpty:function(obj){for(var prop in obj){if(obj.hasOwnProperty(prop)){return!1}}
return!0},numberString:function(nStr){nStr+='';var x=nStr.split('.');var x1=x[0];var x2=x.length>1?'.'+x[1]:'';var rgx=/(\d+)(\d{3})/;while(rgx.test(x1)){x1=x1.replace(rgx,'$1'+','+'$2')}
return x1+x2},detectIE:function(){var ua=window.navigator.userAgent;var msie=ua.indexOf('MSIE ');if(msie>0){return parseInt(ua.substring(msie+5,ua.indexOf('.',msie)),10)}
var trident=ua.indexOf('Trident/');if(trident>0){var rv=ua.indexOf('rv:');return parseInt(ua.substring(rv+3,ua.indexOf('.',rv)),10)}
var edge=ua.indexOf('Edge/');if(edge>0){return parseInt(ua.substring(edge+5,ua.indexOf('.',edge)),10)}
return!1},isRTL:function(){return(KTUtil.attr(KTUtil.get('html'),'direction')=='rtl')},scrollInit:function(element,options){if(!element)return;function init(){var ps;var height;if(options.height instanceof Function){height=parseInt(options.height.call())}else{height=parseInt(options.height)}
if(options.disableForMobile&&KTUtil.isInResponsiveRange('tablet-and-mobile')){if(ps=KTUtil.data(element).get('ps')){if(options.resetHeightOnDestroy){KTUtil.css(element,'height','auto')}else{KTUtil.css(element,'overflow','auto');if(height>0){KTUtil.css(element,'height',height+'px')}}
ps.destroy();ps=KTUtil.data(element).remove('ps')}else if(height>0){KTUtil.css(element,'overflow','auto');KTUtil.css(element,'height',height+'px')}
return}
if(height>0){KTUtil.css(element,'height',height+'px')}
KTUtil.css(element,'overflow','hidden');if(ps=KTUtil.data(element).get('ps')){ps.update()}else{KTUtil.addClass(element,'kt-scroll');ps=new PerfectScrollbar(element,{wheelSpeed:0.5,swipeEasing:!0,wheelPropagation:!1,minScrollbarLength:40,maxScrollbarLength:300,suppressScrollX:KTUtil.attr(element,'data-scroll-x')!='true'?!0:!1});KTUtil.data(element).set('ps',ps)}
var uid=KTUtil.attr(element,'id');if(options.rememberPosition===!0&&Cookies&&uid){if(Cookies.get(uid)){var pos=parseInt(Cookies.get(uid));console.log('pos: '+pos);if(pos>0){element.scrollTop=pos}}
element.addEventListener('ps-scroll-y',function(){console.log('uid: '+uid+'='+element.scrollTop);Cookies.set(uid,element.scrollTop)})}}
init();if(options.handleWindowResize){KTUtil.addResizeHandler(function(){init()})}},scrollUpdate:function(element){var ps;if(ps=KTUtil.data(element).get('ps')){ps.update()}},scrollUpdateAll:function(parent){var scrollers=KTUtil.findAll(parent,'.ps');for(var i=0,len=scrollers.length;i<len;i++){KTUtil.scrollerUpdate(scrollers[i])}},scrollDestroy:function(element){var ps;if(ps=KTUtil.data(element).get('ps')){ps.destroy();ps=KTUtil.data(element).remove('ps')}},setHTML:function(el,html){if(KTUtil.get(el)){KTUtil.get(el).innerHTML=html}},getHTML:function(el){if(KTUtil.get(el)){return KTUtil.get(el).innerHTML}}}}();KTUtil.ready(function(){KTUtil.init()});window.onload=function(){KTUtil.removeClass(KTUtil.get('body'),'kt-page--loading')}
var KTAvatar=function(elementId,options){var the=this;var init=!1;var element=KTUtil.get(elementId);var body=KTUtil.get('body');if(!element){return}
var defaultOptions={};var Plugin={construct:function(options){if(KTUtil.data(element).has('avatar')){the=KTUtil.data(element).get('avatar')}else{Plugin.init(options);Plugin.build();KTUtil.data(element).set('avatar',the)}
return the},init:function(options){the.element=element;the.events=[];the.input=KTUtil.find(element,'input[type="file"]');the.holder=KTUtil.find(element,'.kt-avatar__holder');the.cancel=KTUtil.find(element,'.kt-avatar__cancel');the.src=KTUtil.css(the.holder,'backgroundImage');the.options=KTUtil.deepExtend({},defaultOptions,options)},build:function(){KTUtil.addEvent(the.input,'change',function(e){e.preventDefault();if(the.input&&the.input.files&&the.input.files[0]){var reader=new FileReader();reader.onload=function(e){KTUtil.css(the.holder,'background-image','url('+e.target.result+')')}
reader.readAsDataURL(the.input.files[0]);KTUtil.addClass(the.element,'kt-avatar--changed')}});KTUtil.addEvent(the.cancel,'click',function(e){e.preventDefault();KTUtil.removeClass(the.element,'kt-avatar--changed');KTUtil.css(the.holder,'background-image',the.src);the.input.value=""})},eventTrigger:function(name){for(var i=0;i<the.events.length;i++){var event=the.events[i];if(event.name==name){if(event.one==!0){if(event.fired==!1){the.events[i].fired=!0;event.handler.call(this,the)}}else{event.handler.call(this,the)}}}},addEvent:function(name,handler,one){the.events.push({name:name,handler:handler,one:one,fired:!1});return the}};the.setDefaults=function(options){defaultOptions=options};the.on=function(name,handler){return Plugin.addEvent(name,handler)};the.one=function(name,handler){return Plugin.addEvent(name,handler,!0)};Plugin.construct.apply(the,[options]);return the};"use strict";var KTDialog=function(options){var the=this;var element;var body=KTUtil.get('body');var defaultOptions={'placement':'top center','type':'loader','width':100,'state':'default','message':'Loading...'};var Plugin={construct:function(options){Plugin.init(options);return the},init:function(options){the.events=[];the.options=KTUtil.deepExtend({},defaultOptions,options);the.state=!1},show:function(){Plugin.eventTrigger('show');element=document.createElement("DIV");KTUtil.setHTML(element,the.options.message);KTUtil.addClass(element,'kt-dialog kt-dialog--shown');KTUtil.addClass(element,'kt-dialog--'+the.options.state);KTUtil.addClass(element,'kt-dialog--'+the.options.type);if(the.options.placement=='top center'){KTUtil.addClass(element,'kt-dialog--top-center')}
body.appendChild(element);the.state='shown';Plugin.eventTrigger('shown');return the},hide:function(){if(element){Plugin.eventTrigger('hide');element.remove();the.state='hidden';Plugin.eventTrigger('hidden')}
return the},eventTrigger:function(name){for(var i=0;i<the.events.length;i++){var event=the.events[i];if(event.name==name){if(event.one==!0){if(event.fired==!1){the.events[i].fired=!0;event.handler.call(this,the)}}else{event.handler.call(this,the)}}}},addEvent:function(name,handler,one){the.events.push({name:name,handler:handler,one:one,fired:!1});return the}};the.setDefaults=function(options){defaultOptions=options};the.shown=function(){return the.state=='shown'};the.hidden=function(){return the.state=='hidden'};the.show=function(){return Plugin.show()};the.hide=function(){return Plugin.hide()};the.on=function(name,handler){return Plugin.addEvent(name,handler)};the.one=function(name,handler){return Plugin.addEvent(name,handler,!0)};Plugin.construct.apply(the,[options]);return the};"use strict";var KTHeader=function(elementId,options){var the=this;var init=!1;var element=KTUtil.get(elementId);var body=KTUtil.get('body');if(element===undefined){return}
var defaultOptions={classic:!1,offset:{mobile:150,desktop:200},minimize:{mobile:!1,desktop:!1}};var Plugin={construct:function(options){if(KTUtil.data(element).has('header')){the=KTUtil.data(element).get('header')}else{Plugin.init(options);Plugin.build();KTUtil.data(element).set('header',the)}
return the},init:function(options){the.events=[];the.options=KTUtil.deepExtend({},defaultOptions,options)},build:function(){var lastScrollTop=0;var eventTriggerState=!0;var viewportHeight=KTUtil.getViewPort().height;if(the.options.minimize.mobile===!1&&the.options.minimize.desktop===!1){return}
window.addEventListener('scroll',function(){var offset=0,on,off,st;if(KTUtil.isInResponsiveRange('desktop')){offset=the.options.offset.desktop;on=the.options.minimize.desktop.on;off=the.options.minimize.desktop.off}else if(KTUtil.isInResponsiveRange('tablet-and-mobile')){offset=the.options.offset.mobile;on=the.options.minimize.mobile.on;off=the.options.minimize.mobile.off}
st=window.pageYOffset;if((KTUtil.isInResponsiveRange('tablet-and-mobile')&&the.options.classic&&the.options.classic.mobile)||(KTUtil.isInResponsiveRange('desktop')&&the.options.classic&&the.options.classic.desktop)){if(st>offset){KTUtil.addClass(body,on);KTUtil.removeClass(body,off);if(eventTriggerState){Plugin.eventTrigger('minimizeOn',the);eventTriggerState=!1}}else{KTUtil.addClass(body,off);KTUtil.removeClass(body,on);if(eventTriggerState==!1){Plugin.eventTrigger('minimizeOff',the);eventTriggerState=!0}}}else{if(st>offset&&lastScrollTop<st){KTUtil.addClass(body,on);KTUtil.removeClass(body,off);if(eventTriggerState){Plugin.eventTrigger('minimizeOn',the);eventTriggerState=!1}}else{KTUtil.addClass(body,off);KTUtil.removeClass(body,on);if(eventTriggerState==!1){Plugin.eventTrigger('minimizeOff',the);eventTriggerState=!0}}
lastScrollTop=st}})},eventTrigger:function(name,args){for(var i=0;i<the.events.length;i++){var event=the.events[i];if(event.name==name){if(event.one==!0){if(event.fired==!1){the.events[i].fired=!0;event.handler.call(this,the,args)}}else{event.handler.call(this,the,args)}}}},addEvent:function(name,handler,one){the.events.push({name:name,handler:handler,one:one,fired:!1})}};the.setDefaults=function(options){defaultOptions=options};the.on=function(name,handler){return Plugin.addEvent(name,handler)};Plugin.construct.apply(the,[options]);init=!0;return the};"use strict";var KTMenu=function(elementId,options){var the=this;var init=!1;var element=KTUtil.get(elementId);var body=KTUtil.get('body');if(!element){return}
var defaultOptions={scroll:{rememberPosition:!1},accordion:{slideSpeed:200,autoScroll:!1,autoScrollSpeed:1200,expandAll:!0},dropdown:{timeout:500}};var Plugin={construct:function(options){if(KTUtil.data(element).has('menu')){the=KTUtil.data(element).get('menu')}else{Plugin.init(options);Plugin.reset();Plugin.build();KTUtil.data(element).set('menu',the)}
return the},init:function(options){the.events=[];the.eventHandlers={};the.options=KTUtil.deepExtend({},defaultOptions,options);the.pauseDropdownHoverTime=0;the.uid=KTUtil.getUniqueID()},update:function(options){the.options=KTUtil.deepExtend({},defaultOptions,options);the.pauseDropdownHoverTime=0;Plugin.reset();the.eventHandlers={};Plugin.build();KTUtil.data(element).set('menu',the)},reload:function(){Plugin.reset();Plugin.build();Plugin.resetSubmenuProps()},build:function(){the.eventHandlers.event_1=KTUtil.on(element,'.kt-menu__toggle','click',Plugin.handleSubmenuAccordion);if(Plugin.getSubmenuMode()==='dropdown'||Plugin.isConditionalSubmenuDropdown()){the.eventHandlers.event_2=KTUtil.on(element,'[data-ktmenu-submenu-toggle="hover"]','mouseover',Plugin.handleSubmenuDrodownHoverEnter);the.eventHandlers.event_3=KTUtil.on(element,'[data-ktmenu-submenu-toggle="hover"]','mouseout',Plugin.handleSubmenuDrodownHoverExit);the.eventHandlers.event_4=KTUtil.on(element,'[data-ktmenu-submenu-toggle="click"] > .kt-menu__toggle, [data-ktmenu-submenu-toggle="click"] > .kt-menu__link .kt-menu__toggle','click',Plugin.handleSubmenuDropdownClick);the.eventHandlers.event_5=KTUtil.on(element,'[data-ktmenu-submenu-toggle="tab"] > .kt-menu__toggle, [data-ktmenu-submenu-toggle="tab"] > .kt-menu__link .kt-menu__toggle','click',Plugin.handleSubmenuDropdownTabClick)}
the.eventHandlers.event_6=KTUtil.on(element,'.kt-menu__item > .kt-menu__link:not(.kt-menu__toggle):not(.kt-menu__link--toggle-skip)','click',Plugin.handleLinkClick);if(the.options.scroll&&the.options.scroll.height){Plugin.scrollInit()}},reset:function(){KTUtil.off(element,'click',the.eventHandlers.event_1);KTUtil.off(element,'mouseover',the.eventHandlers.event_2);KTUtil.off(element,'mouseout',the.eventHandlers.event_3);KTUtil.off(element,'click',the.eventHandlers.event_4);KTUtil.off(element,'click',the.eventHandlers.event_5);KTUtil.off(element,'click',the.eventHandlers.event_6)},scrollInit:function(){if(the.options.scroll&&the.options.scroll.height){KTUtil.scrollDestroy(element);KTUtil.scrollInit(element,{disableForMobile:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:the.options.scroll.height,rememberPosition:the.options.scroll.rememberPosition})}else{KTUtil.scrollDestroy(element)}},scrollUpdate:function(){if(the.options.scroll&&the.options.scroll.height){KTUtil.scrollUpdate(element)}},scrollTop:function(){if(the.options.scroll&&the.options.scroll.height){KTUtil.scrollTop(element)}},getSubmenuMode:function(el){if(KTUtil.isInResponsiveRange('desktop')){if(el&&KTUtil.hasAttr(el,'data-ktmenu-submenu-toggle')&&KTUtil.attr(el,'data-ktmenu-submenu-toggle')=='hover'){return'dropdown'}
if(KTUtil.isset(the.options.submenu,'desktop.state.body')){if(KTUtil.hasClasses(body,the.options.submenu.desktop.state.body)){return the.options.submenu.desktop.state.mode}else{return the.options.submenu.desktop.default}}else if(KTUtil.isset(the.options.submenu,'desktop')){return the.options.submenu.desktop}}else if(KTUtil.isInResponsiveRange('tablet')&&KTUtil.isset(the.options.submenu,'tablet')){return the.options.submenu.tablet}else if(KTUtil.isInResponsiveRange('mobile')&&KTUtil.isset(the.options.submenu,'mobile')){return the.options.submenu.mobile}else{return!1}},isConditionalSubmenuDropdown:function(){if(KTUtil.isInResponsiveRange('desktop')&&KTUtil.isset(the.options.submenu,'desktop.state.body')){return!0}else{return!1}},resetSubmenuProps:function(e){var submenus=KTUtil.findAll(element,'.kt-menu__submenu');if(submenus){for(var i=0,len=submenus.length;i<len;i++){KTUtil.css(submenus[0],'display','');KTUtil.css(submenus[0],'overflow','')}}},handleSubmenuDrodownHoverEnter:function(e){if(Plugin.getSubmenuMode(this)==='accordion'){return}
if(the.resumeDropdownHover()===!1){return}
var item=this;if(item.getAttribute('data-hover')=='1'){item.removeAttribute('data-hover');clearTimeout(item.getAttribute('data-timeout'));item.removeAttribute('data-timeout')}
Plugin.showSubmenuDropdown(item)},handleSubmenuDrodownHoverExit:function(e){if(the.resumeDropdownHover()===!1){return}
if(Plugin.getSubmenuMode(this)==='accordion'){return}
var item=this;var time=the.options.dropdown.timeout;var timeout=setTimeout(function(){if(item.getAttribute('data-hover')=='1'){Plugin.hideSubmenuDropdown(item,!0)}},time);item.setAttribute('data-hover','1');item.setAttribute('data-timeout',timeout)},handleSubmenuDropdownClick:function(e){if(Plugin.getSubmenuMode(this)==='accordion'){return}
var item=this.closest('.kt-menu__item');if(item.getAttribute('data-ktmenu-submenu-mode')=='accordion'){return}
if(KTUtil.hasClass(item,'kt-menu__item--hover')===!1){KTUtil.addClass(item,'kt-menu__item--open-dropdown');Plugin.showSubmenuDropdown(item)}else{KTUtil.removeClass(item,'kt-menu__item--open-dropdown');Plugin.hideSubmenuDropdown(item,!0)}
e.preventDefault()},handleSubmenuDropdownTabClick:function(e){if(Plugin.getSubmenuMode(this)==='accordion'){return}
var item=this.closest('.kt-menu__item');if(item.getAttribute('data-ktmenu-submenu-mode')=='accordion'){return}
if(KTUtil.hasClass(item,'kt-menu__item--hover')==!1){KTUtil.addClass(item,'kt-menu__item--open-dropdown');Plugin.showSubmenuDropdown(item)}
e.preventDefault()},handleLinkClick:function(e){var submenu=this.closest('.kt-menu__item.kt-menu__item--submenu');if(submenu&&Plugin.getSubmenuMode(submenu)==='dropdown'){Plugin.hideSubmenuDropdowns()}},handleSubmenuDropdownClose:function(e,el){if(Plugin.getSubmenuMode(el)==='accordion'){return}
var shown=element.querySelectorAll('.kt-menu__item.kt-menu__item--submenu.kt-menu__item--hover:not(.kt-menu__item--tabs)');if(shown.length>0&&KTUtil.hasClass(el,'kt-menu__toggle')===!1&&el.querySelectorAll('.kt-menu__toggle').length===0){for(var i=0,len=shown.length;i<len;i++){Plugin.hideSubmenuDropdown(shown[0],!0)}}},handleSubmenuAccordion:function(e,el){var query;var item=el?el:this;if(Plugin.getSubmenuMode(el)==='dropdown'&&(query=item.closest('.kt-menu__item'))){if(query.getAttribute('data-ktmenu-submenu-mode')!='accordion'){e.preventDefault();return}}
var li=item.closest('.kt-menu__item');var submenu=KTUtil.child(li,'.kt-menu__submenu, .kt-menu__inner');if(KTUtil.hasClass(item.closest('.kt-menu__item'),'kt-menu__item--open-always')){return}
if(li&&submenu){e.preventDefault();var speed=the.options.accordion.slideSpeed;var hasClosables=!1;if(KTUtil.hasClass(li,'kt-menu__item--open')===!1){if(the.options.accordion.expandAll===!1){var subnav=item.closest('.kt-menu__nav, .kt-menu__subnav');var closables=KTUtil.children(subnav,'.kt-menu__item.kt-menu__item--open.kt-menu__item--submenu:not(.kt-menu__item--here):not(.kt-menu__item--open-always)');if(subnav&&closables){for(var i=0,len=closables.length;i<len;i++){var el_=closables[0];var submenu_=KTUtil.child(el_,'.kt-menu__submenu');if(submenu_){KTUtil.slideUp(submenu_,speed,function(){Plugin.scrollUpdate();KTUtil.removeClass(el_,'kt-menu__item--open')})}}}}
KTUtil.slideDown(submenu,speed,function(){Plugin.scrollToItem(item);Plugin.scrollUpdate();Plugin.eventTrigger('submenuToggle',submenu)});KTUtil.addClass(li,'kt-menu__item--open')}else{KTUtil.slideUp(submenu,speed,function(){Plugin.scrollToItem(item);Plugin.eventTrigger('submenuToggle',submenu)});KTUtil.removeClass(li,'kt-menu__item--open')}}},scrollToItem:function(item){if(KTUtil.isInResponsiveRange('desktop')&&the.options.accordion.autoScroll&&element.getAttribute('data-ktmenu-scroll')!=='1'){KTUtil.scrollTo(item,the.options.accordion.autoScrollSpeed)}},hideSubmenuDropdown:function(item,classAlso){if(classAlso){KTUtil.removeClass(item,'kt-menu__item--hover');KTUtil.removeClass(item,'kt-menu__item--active-tab')}
item.removeAttribute('data-hover');if(item.getAttribute('data-ktmenu-dropdown-toggle-class')){KTUtil.removeClass(body,item.getAttribute('data-ktmenu-dropdown-toggle-class'))}
var timeout=item.getAttribute('data-timeout');item.removeAttribute('data-timeout');clearTimeout(timeout)},hideSubmenuDropdowns:function(){var items;if(items=element.querySelectorAll('.kt-menu__item--submenu.kt-menu__item--hover:not(.kt-menu__item--tabs):not([data-ktmenu-submenu-toggle="tab"])')){for(var j=0,cnt=items.length;j<cnt;j++){Plugin.hideSubmenuDropdown(items[j],!0)}}},showSubmenuDropdown:function(item){var list=element.querySelectorAll('.kt-menu__item--submenu.kt-menu__item--hover, .kt-menu__item--submenu.kt-menu__item--active-tab');if(list){for(var i=0,len=list.length;i<len;i++){var el=list[i];if(item!==el&&el.contains(item)===!1&&item.contains(el)===!1){Plugin.hideSubmenuDropdown(el,!0)}}}
KTUtil.addClass(item,'kt-menu__item--hover');if(item.getAttribute('data-ktmenu-dropdown-toggle-class')){KTUtil.addClass(body,item.getAttribute('data-ktmenu-dropdown-toggle-class'))}},createSubmenuDropdownClickDropoff:function(el){var query;var zIndex=(query=KTUtil.child(el,'.kt-menu__submenu')?KTUtil.css(query,'z-index'):0)-1;var dropoff=document.createElement('<div class="kt-menu__dropoff" style="background: transparent; position: fixed; top: 0; bottom: 0; left: 0; right: 0; z-index: '+zIndex+'"></div>');body.appendChild(dropoff);KTUtil.addEvent(dropoff,'click',function(e){e.stopPropagation();e.preventDefault();KTUtil.remove(this);Plugin.hideSubmenuDropdown(el,!0)})},pauseDropdownHover:function(time){var date=new Date();the.pauseDropdownHoverTime=date.getTime()+time},resumeDropdownHover:function(){var date=new Date();return(date.getTime()>the.pauseDropdownHoverTime?!0:!1)},resetActiveItem:function(item){var list;var parents;list=element.querySelectorAll('.kt-menu__item--active');for(var i=0,len=list.length;i<len;i++){var el=list[0];KTUtil.removeClass(el,'kt-menu__item--active');KTUtil.hide(KTUtil.child(el,'.kt-menu__submenu'));parents=KTUtil.parents(el,'.kt-menu__item--submenu')||[];for(var i_=0,len_=parents.length;i_<len_;i_++){var el_=parents[i];KTUtil.removeClass(el_,'kt-menu__item--open');KTUtil.hide(KTUtil.child(el_,'.kt-menu__submenu'))}}
if(the.options.accordion.expandAll===!1){if(list=element.querySelectorAll('.kt-menu__item--open')){for(var i=0,len=list.length;i<len;i++){KTUtil.removeClass(parents[0],'kt-menu__item--open')}}}},setActiveItem:function(item){Plugin.resetActiveItem();var parents=KTUtil.parents(item,'.kt-menu__item--submenu')||[];for(var i=0,len=parents.length;i<len;i++){console.log(parents[i]);KTUtil.addClass(KTUtil.get(parents[i]),'kt-menu__item--open')}
KTUtil.addClass(KTUtil.get(item),'kt-menu__item--active')},getBreadcrumbs:function(item){var query;var breadcrumbs=[];var link=KTUtil.child(item,'.kt-menu__link');breadcrumbs.push({text:(query=KTUtil.child(link,'.kt-menu__link-text')?query.innerHTML:''),title:link.getAttribute('title'),href:link.getAttribute('href')});var parents=KTUtil.parents(item,'.kt-menu__item--submenu');for(var i=0,len=parents.length;i<len;i++){var submenuLink=KTUtil.child(parents[i],'.kt-menu__link');breadcrumbs.push({text:(query=KTUtil.child(submenuLink,'.kt-menu__link-text')?query.innerHTML:''),title:submenuLink.getAttribute('title'),href:submenuLink.getAttribute('href')})}
return breadcrumbs.reverse()},getPageTitle:function(item){var query;return(query=KTUtil.child(item,'.kt-menu__link-text')?query.innerHTML:'')},eventTrigger:function(name,args){for(var i=0;i<the.events.length;i++){var event=the.events[i];if(event.name==name){if(event.one==!0){if(event.fired==!1){the.events[i].fired=!0;event.handler.call(this,the,args)}}else{event.handler.call(this,the,args)}}}},addEvent:function(name,handler,one){the.events.push({name:name,handler:handler,one:one,fired:!1})},removeEvent:function(name){if(the.events[name]){delete the.events[name]}}};the.setDefaults=function(options){defaultOptions=options};the.scrollUpdate=function(){return Plugin.scrollUpdate()};the.scrollReInit=function(){return Plugin.scrollInit()};the.scrollTop=function(){return Plugin.scrollTop()};the.setActiveItem=function(item){return Plugin.setActiveItem(item)};the.reload=function(){return Plugin.reload()};the.update=function(options){return Plugin.update(options)};the.getBreadcrumbs=function(item){return Plugin.getBreadcrumbs(item)};the.getPageTitle=function(item){return Plugin.getPageTitle(item)};the.getSubmenuMode=function(el){return Plugin.getSubmenuMode(el)};the.hideDropdown=function(item){Plugin.hideSubmenuDropdown(item,!0)};the.hideDropdowns=function(){Plugin.hideSubmenuDropdowns()};the.pauseDropdownHover=function(time){Plugin.pauseDropdownHover(time)};the.resumeDropdownHover=function(){return Plugin.resumeDropdownHover()};the.on=function(name,handler){return Plugin.addEvent(name,handler)};the.off=function(name){return Plugin.removeEvent(name)};the.one=function(name,handler){return Plugin.addEvent(name,handler,!0)};Plugin.construct.apply(the,[options]);KTUtil.addResizeHandler(function(){if(init){the.reload()}});init=!0;return the};document.addEventListener("click",function(e){var body=KTUtil.get('body');var query;if(query=body.querySelectorAll('.kt-menu__nav .kt-menu__item.kt-menu__item--submenu.kt-menu__item--hover:not(.kt-menu__item--tabs)[data-ktmenu-submenu-toggle="click"]')){for(var i=0,len=query.length;i<len;i++){var element=query[i].closest('.kt-menu__nav').parentNode;if(element){var the=KTUtil.data(element).get('menu');if(!the){break}
if(!the||the.getSubmenuMode()!=='dropdown'){break}
if(e.target!==element&&element.contains(e.target)===!1){the.hideDropdowns()}}}}});"use strict";var KTOffcanvas=function(elementId,options){var the=this;var init=!1;var element=KTUtil.get(elementId);var body=KTUtil.get('body');if(!element){return}
var defaultOptions={};var Plugin={construct:function(options){if(KTUtil.data(element).has('offcanvas')){the=KTUtil.data(element).get('offcanvas')}else{Plugin.init(options);Plugin.build();KTUtil.data(element).set('offcanvas',the)}
return the},init:function(options){the.events=[];the.options=KTUtil.deepExtend({},defaultOptions,options);the.overlay;the.classBase=the.options.baseClass;the.classShown=the.classBase+'--on';the.classOverlay=the.classBase+'-overlay';the.state=KTUtil.hasClass(element,the.classShown)?'shown':'hidden'},build:function(){if(the.options.toggleBy){if(typeof the.options.toggleBy==='string'){KTUtil.addEvent(the.options.toggleBy,'click',function(e){e.preventDefault();Plugin.toggle()})}else if(the.options.toggleBy&&the.options.toggleBy[0]&&the.options.toggleBy[0].target){for(var i in the.options.toggleBy){KTUtil.addEvent(the.options.toggleBy[i].target,'click',function(e){e.preventDefault();Plugin.toggle()})}}else if(the.options.toggleBy&&the.options.toggleBy.target){KTUtil.addEvent(the.options.toggleBy.target,'click',function(e){e.preventDefault();Plugin.toggle()})}}
var closeBy=KTUtil.get(the.options.closeBy);if(closeBy){KTUtil.addEvent(closeBy,'click',function(e){e.preventDefault();Plugin.hide()})}
KTUtil.addResizeHandler(function(){if(parseInt(KTUtil.css(element,'left'))>=0||parseInt(KTUtil.css(element,'right')>=0)||KTUtil.css(element,'position')!='fixed'){KTUtil.css(element,'opacity','1')}})},isShown:function(target){return(the.state=='shown'?!0:!1)},toggle:function(){;Plugin.eventTrigger('toggle');if(the.state=='shown'){Plugin.hide(this)}else{Plugin.show(this)}},show:function(target){if(the.state=='shown'){return}
Plugin.eventTrigger('beforeShow');Plugin.togglerClass(target,'show');KTUtil.addClass(body,the.classShown);KTUtil.addClass(element,the.classShown);KTUtil.css(element,'opacity','1');the.state='shown';if(the.options.overlay){the.overlay=KTUtil.insertAfter(document.createElement('DIV'),element);KTUtil.addClass(the.overlay,the.classOverlay);KTUtil.addEvent(the.overlay,'click',function(e){e.stopPropagation();e.preventDefault();Plugin.hide(target)})}
Plugin.eventTrigger('afterShow')},hide:function(target){if(the.state=='hidden'){return}
Plugin.eventTrigger('beforeHide');Plugin.togglerClass(target,'hide');KTUtil.removeClass(body,the.classShown);KTUtil.removeClass(element,the.classShown);the.state='hidden';if(the.options.overlay&&the.overlay){KTUtil.remove(the.overlay)}
KTUtil.transitionEnd(element,function(){KTUtil.css(element,'opacity','0')});Plugin.eventTrigger('afterHide')},togglerClass:function(target,mode){var id=KTUtil.attr(target,'id');var toggleBy;if(the.options.toggleBy&&the.options.toggleBy[0]&&the.options.toggleBy[0].target){for(var i in the.options.toggleBy){if(the.options.toggleBy[i].target===id){toggleBy=the.options.toggleBy[i]}}}else if(the.options.toggleBy&&the.options.toggleBy.target){toggleBy=the.options.toggleBy}
if(toggleBy){var el=KTUtil.get(toggleBy.target);if(mode==='show'){KTUtil.addClass(el,toggleBy.state)}
if(mode==='hide'){KTUtil.removeClass(el,toggleBy.state)}}},eventTrigger:function(name,args){for(var i=0;i<the.events.length;i++){var event=the.events[i];if(event.name==name){if(event.one==!0){if(event.fired==!1){the.events[i].fired=!0;event.handler.call(this,the,args)}}else{event.handler.call(this,the,args)}}}},addEvent:function(name,handler,one){the.events.push({name:name,handler:handler,one:one,fired:!1})}};the.setDefaults=function(options){defaultOptions=options};the.isShown=function(){return Plugin.isShown()};the.hide=function(){return Plugin.hide()};the.show=function(){return Plugin.show()};the.on=function(name,handler){return Plugin.addEvent(name,handler)};the.one=function(name,handler){return Plugin.addEvent(name,handler,!0)};Plugin.construct.apply(the,[options]);init=!0;return the};"use strict";var KTPortlet=function(elementId,options){var the=this;var init=!1;var element=KTUtil.get(elementId);var body=KTUtil.get('body');if(!element){return}
var defaultOptions={bodyToggleSpeed:400,tooltips:!0,tools:{toggle:{collapse:'Collapse',expand:'Expand'},reload:'Reload',remove:'Remove',fullscreen:{on:'Fullscreen',off:'Exit Fullscreen'}},sticky:{offset:300,zIndex:101}};var Plugin={construct:function(options){if(KTUtil.data(element).has('portlet')){the=KTUtil.data(element).get('portlet')}else{Plugin.init(options);Plugin.build();KTUtil.data(element).set('portlet',the)}
return the},init:function(options){the.element=element;the.events=[];the.options=KTUtil.deepExtend({},defaultOptions,options);the.head=KTUtil.child(element,'.kt-portlet__head');the.foot=KTUtil.child(element,'.kt-portlet__foot');if(KTUtil.child(element,'.kt-portlet__body')){the.body=KTUtil.child(element,'.kt-portlet__body')}else if(KTUtil.child(element,'.kt-form')){the.body=KTUtil.child(element,'.kt-form')}},build:function(){var remove=KTUtil.find(the.head,'[data-ktportlet-tool=remove]');if(remove){KTUtil.addEvent(remove,'click',function(e){e.preventDefault();Plugin.remove()})}
var reload=KTUtil.find(the.head,'[data-ktportlet-tool=reload]');if(reload){KTUtil.addEvent(reload,'click',function(e){e.preventDefault();Plugin.reload()})}
var toggle=KTUtil.find(the.head,'[data-ktportlet-tool=toggle]');if(toggle){KTUtil.addEvent(toggle,'click',function(e){e.preventDefault();Plugin.toggle()})}
var fullscreen=KTUtil.find(the.head,'[data-ktportlet-tool=fullscreen]');if(fullscreen){KTUtil.addEvent(fullscreen,'click',function(e){e.preventDefault();Plugin.fullscreen()})}
Plugin.setupTooltips()},initSticky:function(){var lastScrollTop=0;var offset=the.options.sticky.offset;if(!the.head){return}
window.addEventListener('scroll',Plugin.onScrollSticky)},onScrollSticky:function(e){var offset=the.options.sticky.offset;if(isNaN(offset))return;var st=document.documentElement.scrollTop;if(st>=offset&&KTUtil.hasClass(body,'kt-portlet--sticky')===!1){Plugin.eventTrigger('stickyOn');KTUtil.addClass(body,'kt-portlet--sticky');KTUtil.addClass(element,'kt-portlet--sticky');Plugin.updateSticky()}else if((st*1.5)<=offset&&KTUtil.hasClass(body,'kt-portlet--sticky')){Plugin.eventTrigger('stickyOff');KTUtil.removeClass(body,'kt-portlet--sticky');KTUtil.removeClass(element,'kt-portlet--sticky');Plugin.resetSticky()}},updateSticky:function(){if(!the.head){return}
var top;if(KTUtil.hasClass(body,'kt-portlet--sticky')){if(the.options.sticky.position.top instanceof Function){top=parseInt(the.options.sticky.position.top.call())}else{top=parseInt(the.options.sticky.position.top)}
var left;if(the.options.sticky.position.left instanceof Function){left=parseInt(the.options.sticky.position.left.call())}else{left=parseInt(the.options.sticky.position.left)}
var right;if(the.options.sticky.position.right instanceof Function){right=parseInt(the.options.sticky.position.right.call())}else{right=parseInt(the.options.sticky.position.right)}
KTUtil.css(the.head,'z-index',the.options.sticky.zIndex);KTUtil.css(the.head,'top',top+'px');KTUtil.css(the.head,'left',left+'px');KTUtil.css(the.head,'right',right+'px')}},resetSticky:function(){if(!the.head){return}
if(KTUtil.hasClass(body,'kt-portlet--sticky')===!1){KTUtil.css(the.head,'z-index','');KTUtil.css(the.head,'top','');KTUtil.css(the.head,'left','');KTUtil.css(the.head,'right','')}},remove:function(){if(Plugin.eventTrigger('beforeRemove')===!1){return}
if(KTUtil.hasClass(body,'kt-portlet--fullscreen')&&KTUtil.hasClass(element,'kt-portlet--fullscreen')){Plugin.fullscreen('off')}
Plugin.removeTooltips();KTUtil.remove(element);Plugin.eventTrigger('afterRemove')},setContent:function(html){if(html){the.body.innerHTML=html}},getBody:function(){return the.body},getSelf:function(){return element},setupTooltips:function(){if(the.options.tooltips){var collapsed=KTUtil.hasClass(element,'kt-portlet--collapse')||KTUtil.hasClass(element,'kt-portlet--collapsed');var fullscreenOn=KTUtil.hasClass(body,'kt-portlet--fullscreen')&&KTUtil.hasClass(element,'kt-portlet--fullscreen');var remove=KTUtil.find(the.head,'[data-ktportlet-tool=remove]');if(remove){var placement=(fullscreenOn?'bottom':'top');var tip=new Tooltip(remove,{title:the.options.tools.remove,placement:placement,offset:(fullscreenOn?'0,10px,0,0':'0,5px'),trigger:'hover',template:'<div class="tooltip tooltip-portlet tooltip bs-tooltip-'+placement+'" role="tooltip">\
                            <div class="tooltip-arrow arrow"></div>\
                            <div class="tooltip-inner"></div>\
                        </div>'});KTUtil.data(remove).set('tooltip',tip)}
var reload=KTUtil.find(the.head,'[data-ktportlet-tool=reload]');if(reload){var placement=(fullscreenOn?'bottom':'top');var tip=new Tooltip(reload,{title:the.options.tools.reload,placement:placement,offset:(fullscreenOn?'0,10px,0,0':'0,5px'),trigger:'hover',template:'<div class="tooltip tooltip-portlet tooltip bs-tooltip-'+placement+'" role="tooltip">\
                            <div class="tooltip-arrow arrow"></div>\
                            <div class="tooltip-inner"></div>\
                        </div>'});KTUtil.data(reload).set('tooltip',tip)}
var toggle=KTUtil.find(the.head,'[data-ktportlet-tool=toggle]');if(toggle){var placement=(fullscreenOn?'bottom':'top');var tip=new Tooltip(toggle,{title:(collapsed?the.options.tools.toggle.expand:the.options.tools.toggle.collapse),placement:placement,offset:(fullscreenOn?'0,10px,0,0':'0,5px'),trigger:'hover',template:'<div class="tooltip tooltip-portlet tooltip bs-tooltip-'+placement+'" role="tooltip">\
                            <div class="tooltip-arrow arrow"></div>\
                            <div class="tooltip-inner"></div>\
                        </div>'});KTUtil.data(toggle).set('tooltip',tip)}
var fullscreen=KTUtil.find(the.head,'[data-ktportlet-tool=fullscreen]');if(fullscreen){var placement=(fullscreenOn?'bottom':'top');var tip=new Tooltip(fullscreen,{title:(fullscreenOn?the.options.tools.fullscreen.off:the.options.tools.fullscreen.on),placement:placement,offset:(fullscreenOn?'0,10px,0,0':'0,5px'),trigger:'hover',template:'<div class="tooltip tooltip-portlet tooltip bs-tooltip-'+placement+'" role="tooltip">\
                            <div class="tooltip-arrow arrow"></div>\
                            <div class="tooltip-inner"></div>\
                        </div>'});KTUtil.data(fullscreen).set('tooltip',tip)}}},removeTooltips:function(){if(the.options.tooltips){var remove=KTUtil.find(the.head,'[data-ktportlet-tool=remove]');if(remove&&KTUtil.data(remove).has('tooltip')){KTUtil.data(remove).get('tooltip').dispose()}
var reload=KTUtil.find(the.head,'[data-ktportlet-tool=reload]');if(reload&&KTUtil.data(reload).has('tooltip')){KTUtil.data(reload).get('tooltip').dispose()}
var toggle=KTUtil.find(the.head,'[data-ktportlet-tool=toggle]');if(toggle&&KTUtil.data(toggle).has('tooltip')){KTUtil.data(toggle).get('tooltip').dispose()}
var fullscreen=KTUtil.find(the.head,'[data-ktportlet-tool=fullscreen]');if(fullscreen&&KTUtil.data(fullscreen).has('tooltip')){KTUtil.data(fullscreen).get('tooltip').dispose()}}},reload:function(){Plugin.eventTrigger('reload')},toggle:function(){if(KTUtil.hasClass(element,'kt-portlet--collapse')||KTUtil.hasClass(element,'kt-portlet--collapsed')){Plugin.expand()}else{Plugin.collapse()}},collapse:function(){if(Plugin.eventTrigger('beforeCollapse')===!1){return}
KTUtil.slideUp(the.body,the.options.bodyToggleSpeed,function(){Plugin.eventTrigger('afterCollapse')});KTUtil.addClass(element,'kt-portlet--collapse');var toggle=KTUtil.find(the.head,'[data-ktportlet-tool=toggle]');if(toggle&&KTUtil.data(toggle).has('tooltip')){KTUtil.data(toggle).get('tooltip').updateTitleContent(the.options.tools.toggle.expand)}},expand:function(){if(Plugin.eventTrigger('beforeExpand')===!1){return}
KTUtil.slideDown(the.body,the.options.bodyToggleSpeed,function(){Plugin.eventTrigger('afterExpand')});KTUtil.removeClass(element,'kt-portlet--collapse');KTUtil.removeClass(element,'kt-portlet--collapsed');var toggle=KTUtil.find(the.head,'[data-ktportlet-tool=toggle]');if(toggle&&KTUtil.data(toggle).has('tooltip')){KTUtil.data(toggle).get('tooltip').updateTitleContent(the.options.tools.toggle.collapse)}},fullscreen:function(mode){var d={};var speed=300;if(mode==='off'||(KTUtil.hasClass(body,'kt-portlet--fullscreen')&&KTUtil.hasClass(element,'kt-portlet--fullscreen'))){Plugin.eventTrigger('beforeFullscreenOff');KTUtil.removeClass(body,'kt-portlet--fullscreen');KTUtil.removeClass(element,'kt-portlet--fullscreen');Plugin.removeTooltips();Plugin.setupTooltips();if(the.foot){KTUtil.css(the.body,'margin-bottom','');KTUtil.css(the.foot,'margin-top','')}
Plugin.eventTrigger('afterFullscreenOff')}else{Plugin.eventTrigger('beforeFullscreenOn');KTUtil.addClass(element,'kt-portlet--fullscreen');KTUtil.addClass(body,'kt-portlet--fullscreen');Plugin.removeTooltips();Plugin.setupTooltips();if(the.foot){var height1=parseInt(KTUtil.css(the.foot,'height'));var height2=parseInt(KTUtil.css(the.foot,'height'))+parseInt(KTUtil.css(the.head,'height'));KTUtil.css(the.body,'margin-bottom',height1+'px');KTUtil.css(the.foot,'margin-top','-'+height2+'px')}
Plugin.eventTrigger('afterFullscreenOn')}},eventTrigger:function(name){for(var i=0;i<the.events.length;i++){var event=the.events[i];if(event.name==name){if(event.one==!0){if(event.fired==!1){the.events[i].fired=!0;event.handler.call(this,the)}}else{event.handler.call(this,the)}}}},addEvent:function(name,handler,one){the.events.push({name:name,handler:handler,one:one,fired:!1});return the}};the.setDefaults=function(options){defaultOptions=options};the.remove=function(){return Plugin.remove(html)};the.initSticky=function(){return Plugin.initSticky()};the.updateSticky=function(){return Plugin.updateSticky()};the.resetSticky=function(){return Plugin.resetSticky()};the.destroySticky=function(){Plugin.resetSticky();window.removeEventListener('scroll',Plugin.onScrollSticky)};the.reload=function(){return Plugin.reload()};the.setContent=function(html){return Plugin.setContent(html)};the.toggle=function(){return Plugin.toggle()};the.collapse=function(){return Plugin.collapse()};the.expand=function(){return Plugin.expand()};the.fullscreen=function(){return Plugin.fullscreen('on')};the.unFullscreen=function(){return Plugin.fullscreen('off')};the.getBody=function(){return Plugin.getBody()};the.getSelf=function(){return Plugin.getSelf()};the.on=function(name,handler){return Plugin.addEvent(name,handler)};the.one=function(name,handler){return Plugin.addEvent(name,handler,!0)};Plugin.construct.apply(the,[options]);return the};"use strict";var KTScrolltop=function(elementId,options){var the=this;var init=!1;var element=KTUtil.get(elementId);var body=KTUtil.get('body');if(!element){return}
var defaultOptions={offset:300,speed:600,toggleClass:'kt-scrolltop--on'};var Plugin={construct:function(options){if(KTUtil.data(element).has('scrolltop')){the=KTUtil.data(element).get('scrolltop')}else{Plugin.init(options);Plugin.build();KTUtil.data(element).set('scrolltop',the)}
return the},init:function(options){the.events=[];the.options=KTUtil.deepExtend({},defaultOptions,options)},build:function(){if(navigator.userAgent.match(/iPhone|iPad|iPod/i)){window.addEventListener('touchend',function(){Plugin.handle()});window.addEventListener('touchcancel',function(){Plugin.handle()});window.addEventListener('touchleave',function(){Plugin.handle()})}else{window.addEventListener('scroll',function(){Plugin.handle()})}
KTUtil.addEvent(element,'click',Plugin.scroll)},handle:function(){var pos=window.pageYOffset;if(pos>the.options.offset){KTUtil.addClass(body,the.options.toggleClass)}else{KTUtil.removeClass(body,the.options.toggleClass)}},scroll:function(e){e.preventDefault();KTUtil.scrollTop(0,the.options.speed)},eventTrigger:function(name,args){for(var i=0;i<the.events.length;i++){var event=the.events[i];if(event.name==name){if(event.one==!0){if(event.fired==!1){the.events[i].fired=!0;event.handler.call(this,the,args)}}else{event.handler.call(this,the,args)}}}},addEvent:function(name,handler,one){the.events.push({name:name,handler:handler,one:one,fired:!1})}};the.setDefaults=function(options){defaultOptions=options};the.on=function(name,handler){return Plugin.addEvent(name,handler)};the.one=function(name,handler){return Plugin.addEvent(name,handler,!0)};Plugin.construct.apply(the,[options]);init=!0;return the};"use strict";var KTToggle=function(elementId,options){var the=this;var init=!1;var element=KTUtil.get(elementId);var body=KTUtil.get('body');if(!element){return}
var defaultOptions={togglerState:'',targetState:''};var Plugin={construct:function(options){if(KTUtil.data(element).has('toggle')){the=KTUtil.data(element).get('toggle')}else{Plugin.init(options);Plugin.build();KTUtil.data(element).set('toggle',the)}
return the},init:function(options){the.element=element;the.events=[];the.options=KTUtil.deepExtend({},defaultOptions,options);the.target=KTUtil.get(the.options.target);the.targetState=the.options.targetState;the.togglerState=the.options.togglerState;the.state=KTUtil.hasClasses(the.target,the.targetState)?'on':'off'},build:function(){KTUtil.addEvent(element,'mouseup',Plugin.toggle)},toggle:function(e){Plugin.eventTrigger('beforeToggle');if(the.state=='off'){Plugin.toggleOn()}else{Plugin.toggleOff()}
Plugin.eventTrigger('afterToggle');e.preventDefault();return the},toggleOn:function(){Plugin.eventTrigger('beforeOn');KTUtil.addClass(the.target,the.targetState);if(the.togglerState){KTUtil.addClass(element,the.togglerState)}
the.state='on';Plugin.eventTrigger('afterOn');Plugin.eventTrigger('toggle');return the},toggleOff:function(){Plugin.eventTrigger('beforeOff');KTUtil.removeClass(the.target,the.targetState);if(the.togglerState){KTUtil.removeClass(element,the.togglerState)}
the.state='off';Plugin.eventTrigger('afterOff');Plugin.eventTrigger('toggle');return the},eventTrigger:function(name){for(var i=0;i<the.events.length;i++){var event=the.events[i];if(event.name==name){if(event.one==!0){if(event.fired==!1){the.events[i].fired=!0;event.handler.call(this,the)}}else{event.handler.call(this,the)}}}},addEvent:function(name,handler,one){the.events.push({name:name,handler:handler,one:one,fired:!1});return the}};the.setDefaults=function(options){defaultOptions=options};the.getState=function(){return the.state};the.toggle=function(){return Plugin.toggle()};the.toggleOn=function(){return Plugin.toggleOn()};the.toggleOff=function(){return Plugin.toggleOff()};the.on=function(name,handler){return Plugin.addEvent(name,handler)};the.one=function(name,handler){return Plugin.addEvent(name,handler,!0)};Plugin.construct.apply(the,[options]);return the};var KTWizard=function(elementId,options){var the=this;var init=!1;var element=KTUtil.get(elementId);var body=KTUtil.get('body');if(!element){return}
var defaultOptions={startStep:1,manualStepForward:!1};var Plugin={construct:function(options){if(KTUtil.data(element).has('wizard')){the=KTUtil.data(element).get('wizard')}else{Plugin.init(options);Plugin.build();KTUtil.data(element).set('wizard',the)}
return the},init:function(options){the.element=element;the.events=[];the.options=KTUtil.deepExtend({},defaultOptions,options);the.steps=KTUtil.findAll(element,'[data-ktwizard-type="step"]');the.btnSubmit=KTUtil.find(element,'[data-ktwizard-type="action-submit"]');the.btnNext=KTUtil.find(element,'[data-ktwizard-type="action-next"]');the.btnPrev=KTUtil.find(element,'[data-ktwizard-type="action-prev"]');the.btnLast=KTUtil.find(element,'[data-ktwizard-type="action-last"]');the.btnFirst=KTUtil.find(element,'[data-ktwizard-type="action-first"]');the.events=[];the.currentStep=1;the.stopped=!1;the.totalSteps=the.steps.length;if(the.options.startStep>1){Plugin.goTo(the.options.startStep)}
Plugin.updateUI()},build:function(){KTUtil.addEvent(the.btnNext,'click',function(e){e.preventDefault();Plugin.goNext()});KTUtil.addEvent(the.btnPrev,'click',function(e){e.preventDefault();Plugin.goPrev()});KTUtil.addEvent(the.btnFirst,'click',function(e){e.preventDefault();Plugin.goFirst()});KTUtil.addEvent(the.btnLast,'click',function(e){e.preventDefault();Plugin.goLast()});KTUtil.on(element,'a[data-ktwizard-type="step"]','click',function(){var index=KTUtil.index(this)+1;if(index!==the.currentStep){Plugin.goTo(index)}})},goTo:function(number){if(number===the.currentStep||number>the.totalSteps||number<0){return}
if(number){number=parseInt(number)}else{number=Plugin.getNextStep()}
var callback;if(number>the.currentStep){callback=Plugin.eventTrigger('beforeNext')}else{callback=Plugin.eventTrigger('beforePrev')}
if(the.stopped===!0){the.stopped=!1;return}
if(callback!==!1){Plugin.eventTrigger('beforeChange');the.currentStep=number;Plugin.updateUI();Plugin.eventTrigger('change')}
if(number>the.startStep){Plugin.eventTrigger('afterNext')}else{Plugin.eventTrigger('afterPrev')}
return the},stop:function(){the.stopped=!0},start:function(){the.stopped=!1},isLastStep:function(){return the.currentStep===the.totalSteps},isFirstStep:function(){return the.currentStep===1},isBetweenStep:function(){return Plugin.isLastStep()===!1&&Plugin.isFirstStep()===!1},goNext:function(){return Plugin.goTo(Plugin.getNextStep())},goPrev:function(){return Plugin.goTo(Plugin.getPrevStep())},goLast:function(){return Plugin.goTo(the.totalSteps)},goFirst:function(){return Plugin.goTo(1)},updateUI:function(){var stepType='';var index=the.currentStep-1;if(Plugin.isLastStep()){stepType='last'}else if(Plugin.isFirstStep()){stepType='first'}else{stepType='between'}
KTUtil.attr(the.element,'data-ktwizard-state',stepType);var steps=KTUtil.findAll(the.element,'[data-ktwizard-type="step"]');if(steps&&steps.length>0){for(var i=0,len=steps.length;i<len;i++){if(i==index){KTUtil.attr(steps[i],'data-ktwizard-state','current')}else{if(i<index){KTUtil.attr(steps[i],'data-ktwizard-state','done')}else{KTUtil.attr(steps[i],'data-ktwizard-state','pending')}}}}
var stepsInfo=KTUtil.findAll(the.element,'[data-ktwizard-type="step-info"]');if(stepsInfo&&stepsInfo.length>0){for(var i=0,len=stepsInfo.length;i<len;i++){if(i==index){KTUtil.attr(stepsInfo[i],'data-ktwizard-state','current')}else{KTUtil.removeAttr(stepsInfo[i],'data-ktwizard-state')}}}
var stepsContent=KTUtil.findAll(the.element,'[data-ktwizard-type="step-content"]');if(stepsContent&&stepsContent.length>0){for(var i=0,len=stepsContent.length;i<len;i++){if(i==index){KTUtil.attr(stepsContent[i],'data-ktwizard-state','current')}else{KTUtil.removeAttr(stepsContent[i],'data-ktwizard-state')}}}},getNextStep:function(){if(the.totalSteps>=(the.currentStep+1)){return the.currentStep+1}else{return the.totalSteps}},getPrevStep:function(){if((the.currentStep-1)>=1){return the.currentStep-1}else{return 1}},eventTrigger:function(name){for(var i=0;i<the.events.length;i++){var event=the.events[i];if(event.name==name){if(event.one==!0){if(event.fired==!1){the.events[i].fired=!0;event.handler.call(this,the)}}else{event.handler.call(this,the)}}}},addEvent:function(name,handler,one){the.events.push({name:name,handler:handler,one:one,fired:!1});return the}};the.setDefaults=function(options){defaultOptions=options};the.goNext=function(){return Plugin.goNext()};the.goPrev=function(){return Plugin.goPrev()};the.goLast=function(){return Plugin.goLast()};the.stop=function(){return Plugin.stop()};the.start=function(){return Plugin.start()};the.goFirst=function(){return Plugin.goFirst()};the.goTo=function(number){return Plugin.goTo(number)};the.getStep=function(){return the.currentStep};the.isLastStep=function(){return Plugin.isLastStep()};the.isFirstStep=function(){return Plugin.isFirstStep()};the.on=function(name,handler){return Plugin.addEvent(name,handler)};the.one=function(name,handler){return Plugin.addEvent(name,handler,!0)};Plugin.construct.apply(the,[options]);return the};'use strict';(function($){var pluginName='KTDatatable';var pfx='kt-';var util=KTUtil;var app=KTApp;if(typeof util==='undefined')throw new Error('Util class is required and must be included before '+pluginName);$.fn[pluginName]=function(options){if($(this).length===0){console.warn('No '+pluginName+' element exist.');return}
var datatable=this;datatable.debug=!1;datatable.API={record:null,value:null,params:null,};var Plugin={isInit:!1,cellOffset:110,iconOffset:15,stateId:'meta',ajaxParams:{},pagingObject:{},init:function(options){var isHtmlTable=!1;if(options.data.source===null){Plugin.extractTable();isHtmlTable=!0}
Plugin.setupBaseDOM.call();Plugin.setupDOM(datatable.table);Plugin.setDataSourceQuery(Plugin.getOption('data.source.read.params.query'));$(datatable).on(pfx+'datatable--on-layout-updated',Plugin.afterRender);if(datatable.debug){Plugin.stateRemove(Plugin.stateId)}
$.each(Plugin.getOption('extensions'),function(extName,extOptions){if(typeof $.fn[pluginName][extName]==='function'){new $.fn[pluginName][extName](datatable,extOptions)}});Plugin.spinnerCallback(!0);if(options.data.type==='remote'||options.data.type==='local'){if(options.data.saveState===!1||options.data.saveState.cookie===!1&&options.data.saveState.webstorage===!1){Plugin.stateRemove(Plugin.stateId)}
if(options.data.type==='local'&&typeof options.data.source==='object'){datatable.dataSet=datatable.originalDataSet=Plugin.dataMapCallback(options.data.source)}
Plugin.dataRender()}
if(isHtmlTable){$(datatable.tableHead).find('tr').remove();$(datatable.tableFoot).find('tr').remove()}
Plugin.setHeadTitle();if(Plugin.getOption('layout.footer')){Plugin.setHeadTitle(datatable.tableFoot)}
if(typeof options.layout.header!=='undefined'&&options.layout.header===!1){$(datatable.table).find('thead').remove()}
if(typeof options.layout.footer!=='undefined'&&options.layout.footer===!1){$(datatable.table).find('tfoot').remove()}
if(options.data.type===null||options.data.type==='local'){Plugin.setupCellField.call();Plugin.setupTemplateCell.call();Plugin.setupSubDatatable.call();Plugin.setupSystemColumn.call();Plugin.redraw()}
var width;var initialWidth=!1;$(window).resize(function(){if(!initialWidth){width=$(this).width();initialWidth=!0}
if($(this).width()!==width){width=$(this).width();Plugin.fullRender()}});$(datatable).height('');$(Plugin.getOption('search.input')).on('keyup',function(e){if(Plugin.getOption('search.onEnter')&&e.which!==13)return;Plugin.search($(this).val())});return datatable},extractTable:function(){var columns=[];var headers=$(datatable).find('tr:first-child th').get().map(function(cell,i){var field=$(cell).data('field');if(typeof field==='undefined'){field=$(cell).text().trim()}
var column={field:field,title:field};for(var ii in options.columns){if(options.columns[ii].field===field){column=$.extend(!0,{},options.columns[ii],column)}}
columns.push(column);return field});options.columns=columns;var rowProp=[];var source=[];$(datatable).find('tr').each(function(){if($(this).find('td').length){rowProp.push($(this).prop('attributes'))}
var td={};$(this).find('td').each(function(i,cell){td[headers[i]]=cell.innerHTML.trim()});if(!util.isEmpty(td)){source.push(td)}});options.data.attr.rowProps=rowProp;options.data.source=source},layoutUpdate:function(){Plugin.setupSubDatatable.call();Plugin.setupSystemColumn.call();Plugin.setupHover.call();if(typeof options.detail==='undefined'&&Plugin.getDepth()===1){Plugin.lockTable.call()}
Plugin.columnHide.call();Plugin.resetScroll();if(!Plugin.isLocked()){Plugin.redraw.call();if(!Plugin.isSubtable()&&Plugin.getOption('rows.autoHide')===!0){Plugin.autoHide()}
$(datatable.table).find('.'+pfx+'datatable__row').css('height','')}
Plugin.rowEvenOdd.call();Plugin.sorting.call();Plugin.scrollbar.call();if(!Plugin.isInit){Plugin.dropdownFix();$(datatable).trigger(pfx+'datatable--on-init',{table:$(datatable.wrap).attr('id'),options:options});Plugin.isInit=!0}
$(datatable).trigger(pfx+'datatable--on-layout-updated',{table:$(datatable.wrap).attr('id')})},dropdownFix:function(){var dropdownMenu;$('body').on('show.bs.dropdown','.'+pfx+'datatable .'+pfx+'datatable__body',function(e){dropdownMenu=$(e.target).find('.dropdown-menu');$('body').append(dropdownMenu.detach());dropdownMenu.css('display','block');dropdownMenu.position({'my':'right top','at':'right bottom','of':$(e.relatedTarget),});if(datatable.closest('.modal').length){dropdownMenu.css('z-index','2000')}}).on('hide.bs.dropdown','.'+pfx+'datatable .'+pfx+'datatable__body',function(e){$(e.target).append(dropdownMenu.detach());dropdownMenu.hide()})},lockTable:function(){var lock={lockEnabled:!1,init:function(){lock.lockEnabled=Plugin.lockEnabledColumns();if(lock.lockEnabled.left.length===0&&lock.lockEnabled.right.length===0){return}
lock.enable()},enable:function(){var enableLock=function(tablePart){if($(tablePart).find('.'+pfx+'datatable__lock').length>0){Plugin.log('Locked container already exist in: ',tablePart);return}
if($(tablePart).find('.'+pfx+'datatable__row').length===0){Plugin.log('No row exist in: ',tablePart);return}
var lockLeft=$('<div/>').addClass(pfx+'datatable__lock '+pfx+'datatable__lock--left');var lockScroll=$('<div/>').addClass(pfx+'datatable__lock '+pfx+'datatable__lock--scroll');var lockRight=$('<div/>').addClass(pfx+'datatable__lock '+pfx+'datatable__lock--right');$(tablePart).find('.'+pfx+'datatable__row').each(function(){var rowLeft=$('<tr/>').addClass(pfx+'datatable__row').data('obj',$(this).data('obj')).appendTo(lockLeft);var rowScroll=$('<tr/>').addClass(pfx+'datatable__row').data('obj',$(this).data('obj')).appendTo(lockScroll);var rowRight=$('<tr/>').addClass(pfx+'datatable__row').data('obj',$(this).data('obj')).appendTo(lockRight);$(this).find('.'+pfx+'datatable__cell').each(function(){var locked=$(this).data('locked');if(typeof locked!=='undefined'){if(typeof locked.left!=='undefined'||locked===!0){$(this).appendTo(rowLeft)}
if(typeof locked.right!=='undefined'){$(this).appendTo(rowRight)}}else{$(this).appendTo(rowScroll)}});$(this).remove()});if(lock.lockEnabled.left.length>0){$(datatable.wrap).addClass(pfx+'datatable--lock');$(lockLeft).appendTo(tablePart)}
if(lock.lockEnabled.left.length>0||lock.lockEnabled.right.length>0){$(lockScroll).appendTo(tablePart)}
if(lock.lockEnabled.right.length>0){$(datatable.wrap).addClass(pfx+'datatable--lock');$(lockRight).appendTo(tablePart)}};$(datatable.table).find('thead,tbody,tfoot').each(function(){var tablePart=this;if($(this).find('.'+pfx+'datatable__lock').length===0){$(this).ready(function(){enableLock(tablePart)})}})},};lock.init();return lock},fullRender:function(){$(datatable.tableHead).empty();Plugin.setHeadTitle();if(Plugin.getOption('layout.footer')){$(datatable.tableFoot).empty();Plugin.setHeadTitle(datatable.tableFoot)}
Plugin.spinnerCallback(!0);$(datatable.wrap).removeClass(pfx+'datatable--loaded');Plugin.insertData()},lockEnabledColumns:function(){var screen=$(window).width();var columns=options.columns;var enabled={left:[],right:[]};$.each(columns,function(i,column){if(typeof column.locked!=='undefined'){if(typeof column.locked.left!=='undefined'){if(util.getBreakpoint(column.locked.left)<=screen){enabled.left.push(column.locked.left)}}
if(typeof column.locked.right!=='undefined'){if(util.getBreakpoint(column.locked.right)<=screen){enabled.right.push(column.locked.right)}}}});return enabled},afterRender:function(e,args){$(datatable).ready(function(){if(Plugin.isLocked()){Plugin.redraw()}
$(datatable.tableBody).css('visibility','');$(datatable.wrap).addClass(pfx+'datatable--loaded');Plugin.spinnerCallback(!1)})},hoverTimer:0,isScrolling:!1,setupHover:function(){$(window).scroll(function(e){clearTimeout(Plugin.hoverTimer);Plugin.isScrolling=!0});$(datatable.tableBody).find('.'+pfx+'datatable__cell').off('mouseenter','mouseleave').on('mouseenter',function(){Plugin.hoverTimer=setTimeout(function(){Plugin.isScrolling=!1},200);if(Plugin.isScrolling)return;var row=$(this).closest('.'+pfx+'datatable__row').addClass(pfx+'datatable__row--hover');var index=$(row).index()+1;$(row).closest('.'+pfx+'datatable__lock').parent().find('.'+pfx+'datatable__row:nth-child('+index+')').addClass(pfx+'datatable__row--hover')}).on('mouseleave',function(){var row=$(this).closest('.'+pfx+'datatable__row').removeClass(pfx+'datatable__row--hover');var index=$(row).index()+1;$(row).closest('.'+pfx+'datatable__lock').parent().find('.'+pfx+'datatable__row:nth-child('+index+')').removeClass(pfx+'datatable__row--hover')})},adjustLockContainer:function(){if(!Plugin.isLocked())return 0;var containerWidth=$(datatable.tableHead).width();var lockLeft=$(datatable.tableHead).find('.'+pfx+'datatable__lock--left').width();var lockRight=$(datatable.tableHead).find('.'+pfx+'datatable__lock--right').width();if(typeof lockLeft==='undefined')lockLeft=0;if(typeof lockRight==='undefined')lockRight=0;var lockScroll=Math.floor(containerWidth-lockLeft-lockRight);$(datatable.table).find('.'+pfx+'datatable__lock--scroll').css('width',lockScroll);return lockScroll},dragResize:function(){var pressed=!1;var start=undefined;var startX,startWidth;$(datatable.tableHead).find('.'+pfx+'datatable__cell').mousedown(function(e){start=$(this);pressed=!0;startX=e.pageX;startWidth=$(this).width();$(start).addClass(pfx+'datatable__cell--resizing')}).mousemove(function(e){if(pressed){var i=$(start).index();var tableBody=$(datatable.tableBody);var ifLocked=$(start).closest('.'+pfx+'datatable__lock');if(ifLocked){var lockedIndex=$(ifLocked).index();tableBody=$(datatable.tableBody).find('.'+pfx+'datatable__lock').eq(lockedIndex)}
$(tableBody).find('.'+pfx+'datatable__row').each(function(tri,tr){$(tr).find('.'+pfx+'datatable__cell').eq(i).width(startWidth+(e.pageX-startX)).children().width(startWidth+(e.pageX-startX))});$(start).children().css('width',startWidth+(e.pageX-startX))}}).mouseup(function(){$(start).removeClass(pfx+'datatable__cell--resizing');pressed=!1});$(document).mouseup(function(){$(start).removeClass(pfx+'datatable__cell--resizing');pressed=!1})},initHeight:function(){if(options.layout.height&&options.layout.scroll){var theadHeight=$(datatable.tableHead).find('.'+pfx+'datatable__row').outerHeight();var tfootHeight=$(datatable.tableFoot).find('.'+pfx+'datatable__row').outerHeight();var bodyHeight=options.layout.height;if(theadHeight>0){bodyHeight-=theadHeight}
if(tfootHeight>0){bodyHeight-=tfootHeight}
bodyHeight-=2;$(datatable.tableBody).css('max-height',bodyHeight);$(datatable.tableBody).find('.'+pfx+'datatable__lock--scroll').css('height',bodyHeight)}},setupBaseDOM:function(){datatable.initialDatatable=$(datatable).clone();if($(datatable).prop('tagName')==='TABLE'){datatable.table=$(datatable).removeClass(pfx+'datatable').addClass(pfx+'datatable__table');if($(datatable.table).parents('.'+pfx+'datatable').length===0){datatable.table.wrap($('<div/>').addClass(pfx+'datatable').addClass(pfx+'datatable--'+options.layout.theme));datatable.wrap=$(datatable.table).parent()}}else{datatable.wrap=$(datatable).addClass(pfx+'datatable').addClass(pfx+'datatable--'+options.layout.theme);datatable.table=$('<table/>').addClass(pfx+'datatable__table').appendTo(datatable)}
if(typeof options.layout.class!=='undefined'){$(datatable.wrap).addClass(options.layout.class)}
$(datatable.table).removeClass(pfx+'datatable--destroyed').css('display','block');if(typeof $(datatable).attr('id')==='undefined'){Plugin.setOption('data.saveState',!1);$(datatable.table).attr('id',util.getUniqueID(pfx+'datatable--'))}
if(Plugin.getOption('layout.minHeight'))
$(datatable.table).css('min-height',Plugin.getOption('layout.minHeight'));if(Plugin.getOption('layout.height'))
$(datatable.table).css('max-height',Plugin.getOption('layout.height'));if(options.data.type===null){$(datatable.table).css('width','').css('display','')}
datatable.tableHead=$(datatable.table).find('thead');if($(datatable.tableHead).length===0){datatable.tableHead=$('<thead/>').prependTo(datatable.table)}
datatable.tableBody=$(datatable.table).find('tbody');if($(datatable.tableBody).length===0){datatable.tableBody=$('<tbody/>').appendTo(datatable.table)}
if(typeof options.layout.footer!=='undefined'&&options.layout.footer){datatable.tableFoot=$(datatable.table).find('tfoot');if($(datatable.tableFoot).length===0){datatable.tableFoot=$('<tfoot/>').appendTo(datatable.table)}}},setupCellField:function(tableParts){if(typeof tableParts==='undefined')tableParts=$(datatable.table).children();var columns=options.columns;$.each(tableParts,function(part,tablePart){$(tablePart).find('.'+pfx+'datatable__row').each(function(tri,tr){$(tr).find('.'+pfx+'datatable__cell').each(function(tdi,td){if(typeof columns[tdi]!=='undefined'){$(td).data(columns[tdi])}})})})},setupTemplateCell:function(tablePart){if(typeof tablePart==='undefined')tablePart=datatable.tableBody;var columns=options.columns;$(tablePart).find('.'+pfx+'datatable__row').each(function(tri,tr){var obj=$(tr).data('obj');if(typeof obj==='undefined'){return}
var rowCallback=Plugin.getOption('rows.callback');if(typeof rowCallback==='function'){rowCallback($(tr),obj,tri)}
var beforeTemplate=Plugin.getOption('rows.beforeTemplate');if(typeof beforeTemplate==='function'){beforeTemplate($(tr),obj,tri)}
if(typeof obj==='undefined'){obj={};$(tr).find('.'+pfx+'datatable__cell').each(function(tdi,td){var column=$.grep(columns,function(n,i){return $(td).data('field')===n.field})[0];if(typeof column!=='undefined'){obj[column.field]=$(td).text()}})}
$(tr).find('.'+pfx+'datatable__cell').each(function(tdi,td){var column=$.grep(columns,function(n,i){return $(td).data('field')===n.field})[0];if(typeof column!=='undefined'){if(typeof column.template!=='undefined'){var finalValue='';if(typeof column.template==='string'){finalValue=Plugin.dataPlaceholder(column.template,obj)}
if(typeof column.template==='function'){finalValue=column.template(obj,tri,datatable)}
if(typeof DOMPurify!=='undefined'){finalValue=DOMPurify.sanitize(finalValue)}
var span=document.createElement('span');span.innerHTML=finalValue;$(td).html(span);if(typeof column.overflow!=='undefined'){$(span).css('overflow',column.overflow);$(span).css('position','relative')}}}});var afterTemplate=Plugin.getOption('rows.afterTemplate');if(typeof afterTemplate==='function'){afterTemplate($(tr),obj,tri)}})},setupSystemColumn:function(){datatable.dataSet=datatable.dataSet||[];if(datatable.dataSet.length===0)return;var columns=options.columns;$(datatable.tableBody).find('.'+pfx+'datatable__row').each(function(tri,tr){$(tr).find('.'+pfx+'datatable__cell').each(function(tdi,td){var column=$.grep(columns,function(n,i){return $(td).data('field')===n.field})[0];if(typeof column!=='undefined'){var value=$(td).text();if(typeof column.selector!=='undefined'&&column.selector!==!1){if($(td).find('.'+pfx+'checkbox [type="checkbox"]').length>0)return;$(td).addClass(pfx+'datatable__cell--check');var chk=$('<label/>').addClass(pfx+'checkbox '+pfx+'checkbox--single').append($('<input/>').attr('type','checkbox').attr('value',value).on('click',function(){if($(this).is(':checked')){Plugin.setActive(this)}else{Plugin.setInactive(this)}})).append('&nbsp;<span></span>');if(typeof column.selector.class!=='undefined'){$(chk).addClass(column.selector.class)}
$(td).children().html(chk)}
if(typeof column.subtable!=='undefined'&&column.subtable){if($(td).find('.'+pfx+'datatable__toggle-subtable').length>0)return;$(td).children().html($('<a/>').addClass(pfx+'datatable__toggle-subtable').attr('href','#').attr('data-value',value).append($('<i/>').addClass(Plugin.getOption('layout.icons.rowDetail.collapse'))))}}})});var initCheckbox=function(tr){var column=$.grep(columns,function(n,i){return typeof n.selector!=='undefined'&&n.selector!==!1})[0];if(typeof column!=='undefined'){if(typeof column.selector!=='undefined'&&column.selector!==!1){var td=$(tr).find('[data-field="'+column.field+'"]');if($(td).find('.'+pfx+'checkbox [type="checkbox"]').length>0)return;$(td).addClass(pfx+'datatable__cell--check');var chk=$('<label/>').addClass(pfx+'checkbox '+pfx+'checkbox--single '+pfx+'checkbox--all').append($('<input/>').attr('type','checkbox').on('click',function(){if($(this).is(':checked')){Plugin.setActiveAll(!0)}else{Plugin.setActiveAll(!1)}})).append('&nbsp;<span></span>');if(typeof column.selector.class!=='undefined'){$(chk).addClass(column.selector.class)}
$(td).children().html(chk)}}};if(options.layout.header){initCheckbox($(datatable.tableHead).find('.'+pfx+'datatable__row').first())}
if(options.layout.footer){initCheckbox($(datatable.tableFoot).find('.'+pfx+'datatable__row').first())}},maxWidthList:{},adjustCellsWidth:function(){var containerWidth=$(datatable.tableBody).innerWidth()-Plugin.iconOffset;var columns=$(datatable.tableBody).find('.'+pfx+'datatable__row:first-child').find('.'+pfx+'datatable__cell').not('.'+pfx+'datatable__toggle-detail').not(':hidden').length;if(columns>0){containerWidth=containerWidth-(Plugin.iconOffset*columns);var minWidth=Math.floor(containerWidth/columns);if(minWidth<=Plugin.cellOffset){minWidth=Plugin.cellOffset}
$(datatable.table).find('.'+pfx+'datatable__row').find('.'+pfx+'datatable__cell').not('.'+pfx+'datatable__toggle-detail').not(':hidden').each(function(tdi,td){var width=minWidth;var dataWidth=$(td).data('width');if(typeof dataWidth!=='undefined'){if(dataWidth==='auto'){var field=$(td).data('field');if(Plugin.maxWidthList[field]){width=Plugin.maxWidthList[field]}
else{var cells=$(datatable.table).find('.'+pfx+'datatable__cell[data-field="'+field+'"]');width=Plugin.maxWidthList[field]=Math.max.apply(null,$(cells).map(function(){return $(this).outerWidth()}).get())}}
else{width=dataWidth}}
$(td).children().css('width',Math.ceil(width))})}
return datatable},adjustCellsHeight:function(){$.each($(datatable.table).children(),function(part,tablePart){var totalRows=$(tablePart).find('.'+pfx+'datatable__row').first().parent().find('.'+pfx+'datatable__row').length;for(var i=1;i<=totalRows;i++){var rows=$(tablePart).find('.'+pfx+'datatable__row:nth-child('+i+')');if($(rows).length>0){var maxHeight=Math.max.apply(null,$(rows).map(function(){return $(this).outerHeight()}).get());$(rows).css('height',Math.ceil(maxHeight))}}})},setupDOM:function(table){$(table).find('> thead').addClass(pfx+'datatable__head');$(table).find('> tbody').addClass(pfx+'datatable__body');$(table).find('> tfoot').addClass(pfx+'datatable__foot');$(table).find('tr').addClass(pfx+'datatable__row');$(table).find('tr > th, tr > td').addClass(pfx+'datatable__cell');$(table).find('tr > th, tr > td').each(function(i,td){if($(td).find('span').length===0){$(td).wrapInner($('<span/>').css('width',Plugin.cellOffset))}})},scrollbar:function(){var scroll={scrollable:null,tableLocked:null,initPosition:null,init:function(){var screen=util.getViewPort().width;if(options.layout.scroll){$(datatable.wrap).addClass(pfx+'datatable--scroll');var scrollable=$(datatable.tableBody).find('.'+pfx+'datatable__lock--scroll');if($(scrollable).find('.'+pfx+'datatable__row').length>0&&$(scrollable).length>0){scroll.scrollHead=$(datatable.tableHead).find('> .'+pfx+'datatable__lock--scroll > .'+pfx+'datatable__row');scroll.scrollFoot=$(datatable.tableFoot).find('> .'+pfx+'datatable__lock--scroll > .'+pfx+'datatable__row');scroll.tableLocked=$(datatable.tableBody).find('.'+pfx+'datatable__lock:not(.'+pfx+'datatable__lock--scroll)');if(Plugin.getOption('layout.customScrollbar')&&util.detectIE()!=10&&screen>util.getBreakpoint('lg')){scroll.initCustomScrollbar(scrollable[0])}else{scroll.initDefaultScrollbar(scrollable)}}else if($(datatable.tableBody).find('.'+pfx+'datatable__row').length>0){scroll.scrollHead=$(datatable.tableHead).find('> .'+pfx+'datatable__row');scroll.scrollFoot=$(datatable.tableFoot).find('> .'+pfx+'datatable__row');if(Plugin.getOption('layout.customScrollbar')&&util.detectIE()!=10&&screen>util.getBreakpoint('lg')){scroll.initCustomScrollbar(datatable.tableBody)}else{scroll.initDefaultScrollbar(datatable.tableBody)}}}},initDefaultScrollbar:function(scrollable){scroll.initPosition=$(scrollable).scrollLeft();$(scrollable).css('overflow-y','auto').off().on('scroll',scroll.onScrolling);if(Plugin.getOption('rows.autoHide')!==!0){$(scrollable).css('overflow-x','auto')}},onScrolling:function(e){var left=$(this).scrollLeft();var top=$(this).scrollTop();if(util.isRTL()){left=left-scroll.initPosition}
$(scroll.scrollHead).css('left',-left);$(scroll.scrollFoot).css('left',-left);$(scroll.tableLocked).each(function(i,table){if(Plugin.isLocked()){top-=1}
$(table).css('top',-top)})},initCustomScrollbar:function(scrollable){scroll.scrollable=scrollable;Plugin.initScrollbar(scrollable);scroll.initPosition=$(scrollable).scrollLeft();$(scrollable).off().on('scroll',scroll.onScrolling)},};scroll.init();return scroll},initScrollbar:function(element,options){if(!element||!element.nodeName){return}
$(datatable.tableBody).css('overflow','');if(util.hasClass(element,'ps')){$(element).data('ps').update()}else{var ps=new PerfectScrollbar(element,Object.assign({},{wheelSpeed:0.5,swipeEasing:!0,minScrollbarLength:40,maxScrollbarLength:300,suppressScrollX:Plugin.getOption('rows.autoHide')&&!Plugin.isLocked()},options));$(element).data('ps',ps);$(window).resize(function(){ps.update()})}},setHeadTitle:function(tablePart){if(typeof tablePart==='undefined')tablePart=datatable.tableHead;tablePart=$(tablePart)[0];var columns=options.columns;var row=tablePart.getElementsByTagName('tr')[0];var ths=tablePart.getElementsByTagName('td');if(typeof row==='undefined'){row=document.createElement('tr');tablePart.appendChild(row)}
$.each(columns,function(i,column){var th=ths[i];if(typeof th==='undefined'){th=document.createElement('th');row.appendChild(th)}
if(typeof column.title!=='undefined'){th.innerHTML=column.title;th.setAttribute('data-field',column.field);util.addClass(th,column.class);if(typeof column.autoHide!=='undefined'){if(column.autoHide!==!0){th.setAttribute('data-autohide-disabled',column.autoHide)}else{th.setAttribute('data-autohide-enabled',column.autoHide)}}
$(th).data(column)}
if(typeof column.attr!=='undefined'){$.each(column.attr,function(key,val){th.setAttribute(key,val)})}
if(typeof column.textAlign!=='undefined'){var align=typeof datatable.textAlign[column.textAlign]!=='undefined'?datatable.textAlign[column.textAlign]:'';util.addClass(th,align)}});Plugin.setupDOM(tablePart)},dataRender:function(action){$(datatable.table).siblings('.'+pfx+'datatable__pager').removeClass(pfx+'datatable--paging-loaded');var buildMeta=function(){datatable.dataSet=datatable.dataSet||[];Plugin.localDataUpdate();var meta=Plugin.getDataSourceParam('pagination');if(meta.perpage===0){meta.perpage=options.data.pageSize||10}
meta.total=datatable.dataSet.length;var start=Math.max(meta.perpage*(meta.page-1),0);var end=Math.min(start+meta.perpage,meta.total);datatable.dataSet=$(datatable.dataSet).slice(start,end);return meta};var afterGetData=function(result){var localPagingCallback=function(ctx,meta){if(!$(ctx.pager).hasClass(pfx+'datatable--paging-loaded')){$(ctx.pager).remove();ctx.init(meta)}
$(ctx.pager).off().on(pfx+'datatable--on-goto-page',function(e){$(ctx.pager).remove();ctx.init(meta)});var start=Math.max(meta.perpage*(meta.page-1),0);var end=Math.min(start+meta.perpage,meta.total);Plugin.localDataUpdate();datatable.dataSet=$(datatable.dataSet).slice(start,end);Plugin.insertData()};$(datatable.wrap).removeClass(pfx+'datatable--error');if(options.pagination){if(options.data.serverPaging&&options.data.type!=='local'){var serverMeta=Plugin.getObject('meta',result||null);if(serverMeta!==null){Plugin.pagingObject=Plugin.paging(serverMeta)}else{Plugin.pagingObject=Plugin.paging(buildMeta(),localPagingCallback)}}else{Plugin.pagingObject=Plugin.paging(buildMeta(),localPagingCallback)}}else{Plugin.localDataUpdate()}
Plugin.insertData()};if(options.data.type==='local'||options.data.serverSorting===!1&&action==='sort'||options.data.serverFiltering===!1&&action==='search'){setTimeout(function(){afterGetData();Plugin.setAutoColumns()});return}
Plugin.getData().done(afterGetData)},insertData:function(){datatable.dataSet=datatable.dataSet||[];var params=Plugin.getDataSourceParam();var pagination=params.pagination;var start=(Math.max(pagination.page,1)-1)*pagination.perpage;var end=Math.min(pagination.page,pagination.pages)*pagination.perpage;var rowProps={};if(typeof options.data.attr.rowProps!=='undefined'&&options.data.attr.rowProps.length){rowProps=options.data.attr.rowProps.slice(start,end)}
var tableBody=document.createElement('tbody');tableBody.style.visibility='hidden';var colLength=options.columns.length;$.each(datatable.dataSet,function(rowIndex,row){var tr=document.createElement('tr');tr.setAttribute('data-row',rowIndex);$(tr).data('obj',row);if(typeof rowProps[rowIndex]!=='undefined'){$.each(rowProps[rowIndex],function(){tr.setAttribute(this.name,this.value)})}
var cellIndex=0;var tds=[];for(var a=0;a<colLength;a+=1){var column=options.columns[a];var classes=[];if(Plugin.getObject('sort.field',params)===column.field){classes.push(pfx+'datatable__cell--sorted')}
if(typeof column.textAlign!=='undefined'){var align=typeof datatable.textAlign[column.textAlign]!=='undefined'?datatable.textAlign[column.textAlign]:'';classes.push(align)}
if(typeof column.class!=='undefined'){classes.push(column.class)}
var td=document.createElement('td');util.addClass(td,classes.join(' '));td.setAttribute('data-field',column.field);if(typeof column.autoHide!=='undefined'){if(column.autoHide!==!0){td.setAttribute('data-autohide-disabled',column.autoHide)}else{td.setAttribute('data-autohide-enabled',column.autoHide)}}
td.innerHTML=Plugin.getObject(column.field,row);tr.appendChild(td)}
tableBody.appendChild(tr)});if(datatable.dataSet.length===0){var errorSpan=document.createElement('span');util.addClass(errorSpan,pfx+'datatable--error');errorSpan.innerHTML=Plugin.getOption('translate.records.noRecords');tableBody.appendChild(errorSpan);$(datatable.wrap).addClass(pfx+'datatable--error '+pfx+'datatable--loaded');Plugin.spinnerCallback(!1)}
$(datatable.tableBody).replaceWith(tableBody);datatable.tableBody=tableBody;Plugin.setupDOM(datatable.table);Plugin.setupCellField([datatable.tableBody]);Plugin.setupTemplateCell(datatable.tableBody);Plugin.layoutUpdate()},updateTableComponents:function(){datatable.tableHead=$(datatable.table).children('thead');datatable.tableBody=$(datatable.table).children('tbody');datatable.tableFoot=$(datatable.table).children('tfoot')},getData:function(){var ajaxParams={dataType:'json',method:'POST',data:{},timeout:Plugin.getOption('data.source.read.timeout')||30000,};if(options.data.type==='local'){ajaxParams.url=options.data.source}
if(options.data.type==='remote'){var data=Plugin.getDataSourceParam();if(!Plugin.getOption('data.serverPaging')){delete data.pagination}
if(!Plugin.getOption('data.serverSorting')){delete data.sort}
ajaxParams.data=$.extend({},ajaxParams.data,Plugin.getOption('data.source.read.params'),data);ajaxParams=$.extend({},ajaxParams,Plugin.getOption('data.source.read'));if(typeof ajaxParams.url!=='string')ajaxParams.url=Plugin.getOption('data.source.read');if(typeof ajaxParams.url!=='string')ajaxParams.url=Plugin.getOption('data.source')}
return $.ajax(ajaxParams).done(function(response,textStatus,jqXHR){datatable.lastResponse=response;datatable.dataSet=datatable.originalDataSet=Plugin.dataMapCallback(response);Plugin.setAutoColumns();$(datatable).trigger(pfx+'datatable--on-ajax-done',[datatable.dataSet])}).fail(function(jqXHR,textStatus,errorThrown){$(datatable).trigger(pfx+'datatable--on-ajax-fail',[jqXHR]);$(datatable.tableBody).html($('<span/>').addClass(pfx+'datatable--error').html(Plugin.getOption('translate.records.noRecords')));$(datatable.wrap).addClass(pfx+'datatable--error '+pfx+'datatable--loaded');Plugin.spinnerCallback(!1)}).always(function(){})},paging:function(meta,callback){var pg={meta:null,pager:null,paginateEvent:null,pagerLayout:{pagination:null,info:null},callback:null,init:function(meta){pg.meta=meta;pg.meta.page=parseInt(pg.meta.page);pg.meta.pages=parseInt(pg.meta.pages);pg.meta.perpage=parseInt(pg.meta.perpage);pg.meta.total=parseInt(pg.meta.total);pg.meta.pages=Math.max(Math.ceil(pg.meta.total/pg.meta.perpage),1);if(pg.meta.page>pg.meta.pages)pg.meta.page=pg.meta.pages;pg.paginateEvent=Plugin.getTablePrefix('paging');pg.pager=$(datatable.table).siblings('.'+pfx+'datatable__pager');if($(pg.pager).hasClass(pfx+'datatable--paging-loaded'))return;$(pg.pager).remove();if(pg.meta.pages===0)return;Plugin.setDataSourceParam('pagination',{page:pg.meta.page,pages:pg.meta.pages,perpage:pg.meta.perpage,total:pg.meta.total,});pg.callback=pg.serverCallback;if(typeof callback==='function')pg.callback=callback;pg.addPaginateEvent();pg.populate();pg.meta.page=Math.max(pg.meta.page||1,pg.meta.page);$(datatable).trigger(pg.paginateEvent,pg.meta);pg.pagingBreakpoint.call();$(window).resize(pg.pagingBreakpoint)},serverCallback:function(ctx,meta){Plugin.dataRender()},populate:function(){var icons=Plugin.getOption('layout.icons.pagination');var title=Plugin.getOption('translate.toolbar.pagination.items.default');pg.pager=$('<div/>').addClass(pfx+'datatable__pager '+pfx+'datatable--paging-loaded');var pagerNumber=$('<ul/>').addClass(pfx+'datatable__pager-nav');pg.pagerLayout.pagination=pagerNumber;$('<li/>').append($('<a/>').attr('title',title.first).addClass(pfx+'datatable__pager-link '+pfx+'datatable__pager-link--first').append($('<i/>').addClass(icons.first)).on('click',pg.gotoMorePage).attr('data-page',1)).appendTo(pagerNumber);$('<li/>').append($('<a/>').attr('title',title.prev).addClass(pfx+'datatable__pager-link '+pfx+'datatable__pager-link--prev').append($('<i/>').addClass(icons.prev)).on('click',pg.gotoMorePage)).appendTo(pagerNumber);$('<li/>').append($('<a/>').attr('title',title.more).addClass(pfx+'datatable__pager-link '+pfx+'datatable__pager-link--more-prev').html($('<i/>').addClass(icons.more)).on('click',pg.gotoMorePage)).appendTo(pagerNumber);$('<li/>').append($('<input/>').attr('type','text').addClass(pfx+'pager-input form-control').attr('title',title.input).on('keyup',function(){$(this).attr('data-page',Math.abs($(this).val()))}).on('keypress',function(e){if(e.which===13)pg.gotoMorePage(e)})).appendTo(pagerNumber);var pagesNumber=Plugin.getOption('toolbar.items.pagination.pages.desktop.pagesNumber');var end=Math.ceil(pg.meta.page/pagesNumber)*pagesNumber;var start=end-pagesNumber;if(end>pg.meta.pages){end=pg.meta.pages}
for(var x=start;x<end;x++){var pageNumber=x+1;$('<li/>').append($('<a/>').addClass(pfx+'datatable__pager-link '+pfx+'datatable__pager-link-number').text(pageNumber).attr('data-page',pageNumber).attr('title',pageNumber).on('click',pg.gotoPage)).appendTo(pagerNumber)}
$('<li/>').append($('<a/>').attr('title',title.more).addClass(pfx+'datatable__pager-link '+pfx+'datatable__pager-link--more-next').html($('<i/>').addClass(icons.more)).on('click',pg.gotoMorePage)).appendTo(pagerNumber);$('<li/>').append($('<a/>').attr('title',title.next).addClass(pfx+'datatable__pager-link '+pfx+'datatable__pager-link--next').append($('<i/>').addClass(icons.next)).on('click',pg.gotoMorePage)).appendTo(pagerNumber);$('<li/>').append($('<a/>').attr('title',title.last).addClass(pfx+'datatable__pager-link '+pfx+'datatable__pager-link--last').append($('<i/>').addClass(icons.last)).on('click',pg.gotoMorePage).attr('data-page',pg.meta.pages)).appendTo(pagerNumber);if(Plugin.getOption('toolbar.items.info')){pg.pagerLayout.info=$('<div/>').addClass(pfx+'datatable__pager-info').append($('<span/>').addClass(pfx+'datatable__pager-detail'))}
$.each(Plugin.getOption('toolbar.layout'),function(i,layout){$(pg.pagerLayout[layout]).appendTo(pg.pager)});var pageSizeSelect=$('<select/>').addClass('selectpicker '+pfx+'datatable__pager-size').attr('title',Plugin.getOption('translate.toolbar.pagination.items.default.select')).attr('data-width','60px').val(pg.meta.perpage).on('change',pg.updatePerpage).prependTo(pg.pagerLayout.info);var pageSizes=Plugin.getOption('toolbar.items.pagination.pageSizeSelect');if(pageSizes.length==0)pageSizes=[10,20,30,50,100];$.each(pageSizes,function(i,size){var display=size;if(size===-1)display=Plugin.getOption('translate.toolbar.pagination.items.default.all');$('<option/>').attr('value',size).html(display).appendTo(pageSizeSelect)});$(datatable).ready(function(){$('.selectpicker').selectpicker().on('hide.bs.select',function(){$(this).closest('.bootstrap-select').removeClass('dropup')}).siblings('.dropdown-toggle').attr('title',Plugin.getOption('translate.toolbar.pagination.items.default.select'))});pg.paste()},paste:function(){$.each($.unique(Plugin.getOption('toolbar.placement')),function(i,position){if(position==='bottom'){$(pg.pager).clone(!0).insertAfter(datatable.table)}
if(position==='top'){$(pg.pager).clone(!0).addClass(pfx+'datatable__pager--top').insertBefore(datatable.table)}})},gotoMorePage:function(e){e.preventDefault();if($(this).attr('disabled')==='disabled')return!1;var page=$(this).attr('data-page');if(typeof page==='undefined'){page=$(e.target).attr('data-page')}
pg.openPage(parseInt(page));return!1},gotoPage:function(e){e.preventDefault();if($(this).hasClass(pfx+'datatable__pager-link--active'))return;pg.openPage(parseInt($(this).data('page')))},openPage:function(page){pg.meta.page=parseInt(page);$(datatable).trigger(pg.paginateEvent,pg.meta);pg.callback(pg,pg.meta);$(pg.pager).trigger(pfx+'datatable--on-goto-page',pg.meta)},updatePerpage:function(e){e.preventDefault();pg.pager=$(datatable.table).siblings('.'+pfx+'datatable__pager').removeClass(pfx+'datatable--paging-loaded');if(e.originalEvent){pg.meta.perpage=parseInt($(this).val())}
$(pg.pager).find('select.'+pfx+'datatable__pager-size').val(pg.meta.perpage).attr('data-selected',pg.meta.perpage);Plugin.setDataSourceParam('pagination',{page:pg.meta.page,pages:pg.meta.pages,perpage:pg.meta.perpage,total:pg.meta.total,});$(pg.pager).trigger(pfx+'datatable--on-update-perpage',pg.meta);$(datatable).trigger(pg.paginateEvent,pg.meta);pg.callback(pg,pg.meta);pg.updateInfo.call()},addPaginateEvent:function(e){$(datatable).off(pg.paginateEvent).on(pg.paginateEvent,function(e,meta){Plugin.spinnerCallback(!0);pg.pager=$(datatable.table).siblings('.'+pfx+'datatable__pager');var pagerNumber=$(pg.pager).find('.'+pfx+'datatable__pager-nav');$(pagerNumber).find('.'+pfx+'datatable__pager-link--active').removeClass(pfx+'datatable__pager-link--active');$(pagerNumber).find('.'+pfx+'datatable__pager-link-number[data-page="'+meta.page+'"]').addClass(pfx+'datatable__pager-link--active');$(pagerNumber).find('.'+pfx+'datatable__pager-link--prev').attr('data-page',Math.max(meta.page-1,1));$(pagerNumber).find('.'+pfx+'datatable__pager-link--next').attr('data-page',Math.min(meta.page+1,meta.pages));$(pg.pager).each(function(){$(this).find('.'+pfx+'pager-input[type="text"]').prop('value',meta.page)});$(pg.pager).find('.'+pfx+'datatable__pager-nav').show();if(meta.pages<=1){$(pg.pager).find('.'+pfx+'datatable__pager-nav').hide()}
Plugin.setDataSourceParam('pagination',{page:pg.meta.page,pages:pg.meta.pages,perpage:pg.meta.perpage,total:pg.meta.total,});$(pg.pager).find('select.'+pfx+'datatable__pager-size').val(meta.perpage).attr('data-selected',meta.perpage);$(datatable.table).find('.'+pfx+'checkbox > [type="checkbox"]').prop('checked',!1);$(datatable.table).find('.'+pfx+'datatable__row--active').removeClass(pfx+'datatable__row--active');pg.updateInfo.call();pg.pagingBreakpoint.call()})},updateInfo:function(){var start=Math.max(pg.meta.perpage*(pg.meta.page-1)+1,1);var end=Math.min(start+pg.meta.perpage-1,pg.meta.total);$(pg.pager).find('.'+pfx+'datatable__pager-info').find('.'+pfx+'datatable__pager-detail').html(Plugin.dataPlaceholder(Plugin.getOption('translate.toolbar.pagination.items.info'),{start:start,end:pg.meta.perpage===-1?pg.meta.total:end,pageSize:pg.meta.perpage===-1||pg.meta.perpage>=pg.meta.total?pg.meta.total:pg.meta.perpage,total:pg.meta.total,}))},pagingBreakpoint:function(){var pagerNumber=$(datatable.table).siblings('.'+pfx+'datatable__pager').find('.'+pfx+'datatable__pager-nav');if($(pagerNumber).length===0)return;var currentPage=Plugin.getCurrentPage();var pagerInput=$(pagerNumber).find('.'+pfx+'pager-input').closest('li');$(pagerNumber).find('li').show();$.each(Plugin.getOption('toolbar.items.pagination.pages'),function(mode,option){if(util.isInResponsiveRange(mode)){switch(mode){case 'desktop':case 'tablet':var end=Math.ceil(currentPage/option.pagesNumber)*option.pagesNumber;var start=end-option.pagesNumber;$(pagerInput).hide();pg.meta=Plugin.getDataSourceParam('pagination');pg.paginationUpdate();break;case 'mobile':$(pagerInput).show();$(pagerNumber).find('.'+pfx+'datatable__pager-link--more-prev').closest('li').hide();$(pagerNumber).find('.'+pfx+'datatable__pager-link--more-next').closest('li').hide();$(pagerNumber).find('.'+pfx+'datatable__pager-link-number').closest('li').hide();break}
return!1}})},paginationUpdate:function(){var pager=$(datatable.table).siblings('.'+pfx+'datatable__pager').find('.'+pfx+'datatable__pager-nav'),pagerMorePrev=$(pager).find('.'+pfx+'datatable__pager-link--more-prev'),pagerMoreNext=$(pager).find('.'+pfx+'datatable__pager-link--more-next'),pagerFirst=$(pager).find('.'+pfx+'datatable__pager-link--first'),pagerPrev=$(pager).find('.'+pfx+'datatable__pager-link--prev'),pagerNext=$(pager).find('.'+pfx+'datatable__pager-link--next'),pagerLast=$(pager).find('.'+pfx+'datatable__pager-link--last');var pagerNumber=$(pager).find('.'+pfx+'datatable__pager-link-number');var morePrevPage=Math.max($(pagerNumber).first().data('page')-1,1);$(pagerMorePrev).each(function(i,prev){$(prev).attr('data-page',morePrevPage)});if(morePrevPage===1){$(pagerMorePrev).parent().hide()}else{$(pagerMorePrev).parent().show()}
var moreNextPage=Math.min($(pagerNumber).last().data('page')+1,pg.meta.pages);$(pagerMoreNext).each(function(i,prev){$(pagerMoreNext).attr('data-page',moreNextPage).show()});if(moreNextPage===pg.meta.pages&&moreNextPage===$(pagerNumber).last().data('page')){$(pagerMoreNext).parent().hide()}else{$(pagerMoreNext).parent().show()}
if(pg.meta.page===1){$(pagerFirst).attr('disabled',!0).addClass(pfx+'datatable__pager-link--disabled');$(pagerPrev).attr('disabled',!0).addClass(pfx+'datatable__pager-link--disabled')}else{$(pagerFirst).removeAttr('disabled').removeClass(pfx+'datatable__pager-link--disabled');$(pagerPrev).removeAttr('disabled').removeClass(pfx+'datatable__pager-link--disabled')}
if(pg.meta.page===pg.meta.pages){$(pagerNext).attr('disabled',!0).addClass(pfx+'datatable__pager-link--disabled');$(pagerLast).attr('disabled',!0).addClass(pfx+'datatable__pager-link--disabled')}else{$(pagerNext).removeAttr('disabled').removeClass(pfx+'datatable__pager-link--disabled');$(pagerLast).removeAttr('disabled').removeClass(pfx+'datatable__pager-link--disabled')}
var nav=Plugin.getOption('toolbar.items.pagination.navigation');if(!nav.first)$(pagerFirst).remove();if(!nav.prev)$(pagerPrev).remove();if(!nav.next)$(pagerNext).remove();if(!nav.last)$(pagerLast).remove();if(!nav.more){$(pagerMorePrev).remove();$(pagerMoreNext).remove()}},};pg.init(meta);return pg},columnHide:function(){var screen=util.getViewPort().width;$.each(options.columns,function(i,column){if(typeof column.responsive!=='undefined'){var field=column.field;var tds=$.grep($(datatable.table).find('.'+pfx+'datatable__cell'),function(n,i){return field===$(n).data('field')});if(util.getBreakpoint(column.responsive.hidden)>=screen){$(tds).hide()}else{$(tds).show()}
if(util.getBreakpoint(column.responsive.visible)<=screen){$(tds).show()}else{$(tds).hide()}}})},setupSubDatatable:function(){var subTableCallback=Plugin.getOption('detail.content');if(typeof subTableCallback!=='function')return;if($(datatable.table).find('.'+pfx+'datatable__subtable').length>0)return;$(datatable.wrap).addClass(pfx+'datatable--subtable');options.columns[0].subtable=!0;var toggleSubTable=function(e){e.preventDefault();var parentRow=$(this).closest('.'+pfx+'datatable__row');var subTableRow=$(parentRow).next('.'+pfx+'datatable__row-subtable');if($(subTableRow).length===0){subTableRow=$('<tr/>').addClass(pfx+'datatable__row-subtable '+pfx+'datatable__row-loading').hide().append($('<td/>').addClass(pfx+'datatable__subtable').attr('colspan',Plugin.getTotalColumns()));$(parentRow).after(subTableRow);if($(parentRow).hasClass(pfx+'datatable__row--even')){$(subTableRow).addClass(pfx+'datatable__row-subtable--even')}}
$(subTableRow).toggle();var subTable=$(subTableRow).find('.'+pfx+'datatable__subtable');var primaryKey=$(this).closest('[data-field]:first-child').find('.'+pfx+'datatable__toggle-subtable').data('value');var icon=$(this).find('i').removeAttr('class');if($(parentRow).hasClass(pfx+'datatable__row--subtable-expanded')){$(icon).addClass(Plugin.getOption('layout.icons.rowDetail.collapse'));$(parentRow).removeClass(pfx+'datatable__row--subtable-expanded');$(datatable).trigger(pfx+'datatable--on-collapse-subtable',[parentRow])}else{$(icon).addClass(Plugin.getOption('layout.icons.rowDetail.expand'));$(parentRow).addClass(pfx+'datatable__row--subtable-expanded');$(datatable).trigger(pfx+'datatable--on-expand-subtable',[parentRow])}
if($(subTable).find('.'+pfx+'datatable').length===0){$.map(datatable.dataSet,function(n,i){if(primaryKey===n[options.columns[0].field]){e.data=n;return!0}
return!1});e.detailCell=subTable;e.parentRow=parentRow;e.subTable=subTable;subTableCallback(e);$(subTable).children('.'+pfx+'datatable').on(pfx+'datatable--on-init',function(e){$(subTableRow).removeClass(pfx+'datatable__row-loading')});if(Plugin.getOption('data.type')==='local'){$(subTableRow).removeClass(pfx+'datatable__row-loading')}}};var columns=options.columns;$(datatable.tableBody).find('.'+pfx+'datatable__row').each(function(tri,tr){$(tr).find('.'+pfx+'datatable__cell').each(function(tdi,td){var column=$.grep(columns,function(n,i){return $(td).data('field')===n.field})[0];if(typeof column!=='undefined'){var value=$(td).text();if(typeof column.subtable!=='undefined'&&column.subtable){if($(td).find('.'+pfx+'datatable__toggle-subtable').length>0)return;$(td).html($('<a/>').addClass(pfx+'datatable__toggle-subtable').attr('href','#').attr('data-value',value).attr('title',Plugin.getOption('detail.title')).on('click',toggleSubTable).append($('<i/>').css('width',$(td).data('width')).addClass(Plugin.getOption('layout.icons.rowDetail.collapse'))))}}})})},dataMapCallback:function(raw){var dataSet=raw;if(typeof Plugin.getOption('data.source.read.map')==='function'){return Plugin.getOption('data.source.read.map')(raw)}else{if(typeof raw!=='undefined'&&typeof raw.data!=='undefined'){dataSet=raw.data}}
return dataSet},isSpinning:!1,spinnerCallback:function(block,target){if(typeof target==='undefined')target=datatable;var spinnerOptions=Plugin.getOption('layout.spinner');if(typeof spinnerOptions==='undefined'||!spinnerOptions){return}
if(block){if(!Plugin.isSpinning){if(typeof spinnerOptions.message!=='undefined'&&spinnerOptions.message===!0){spinnerOptions.message=Plugin.getOption('translate.records.processing')}
Plugin.isSpinning=!0;if(typeof app!=='undefined'){app.block(target,spinnerOptions)}}}else{Plugin.isSpinning=!1;if(typeof app!=='undefined'){app.unblock(target)}}},sortCallback:function(data,sort,column){var type=column.type||'string';var format=column.format||'';var field=column.field;return $(data).sort(function(a,b){var aField=a[field];var bField=b[field];switch(type){case 'date':if(typeof moment==='undefined'){throw new Error('Moment.js is required.')}
var diff=moment(aField,format).diff(moment(bField,format));if(sort==='asc'){return diff>0?1:diff<0?-1:0}else{return diff<0?1:diff>0?-1:0}
break;case 'number':if(isNaN(parseFloat(aField))&&aField!=null){aField=Number(aField.replace(/[^0-9\.-]+/g,''))}
if(isNaN(parseFloat(bField))&&bField!=null){bField=Number(bField.replace(/[^0-9\.-]+/g,''))}
aField=parseFloat(aField);bField=parseFloat(bField);if(sort==='asc'){return aField>bField?1:aField<bField?-1:0}else{return aField<bField?1:aField>bField?-1:0}
break;case 'string':default:if(sort==='asc'){return aField>bField?1:aField<bField?-1:0}else{return aField<bField?1:aField>bField?-1:0}
break}})},log:function(text,obj){if(typeof obj==='undefined')obj='';if(datatable.debug){console.log(text,obj)}},autoHide:function(){var hiddenExist=!1;var hidDefault=$(datatable.table).find('[data-autohide-enabled]');if(hidDefault.length){hiddenExist=!0;hidDefault.hide()}
var toggleHiddenColumns=function(e){e.preventDefault();var row=$(this).closest('.'+pfx+'datatable__row');var detailRow=$(row).next();if(!$(detailRow).hasClass(pfx+'datatable__row-detail')){$(this).find('i').removeClass(Plugin.getOption('layout.icons.rowDetail.collapse')).addClass(Plugin.getOption('layout.icons.rowDetail.expand'));var hiddenCells=$(row).find('.'+pfx+'datatable__cell:hidden');var clonedCells=hiddenCells.clone().show();detailRow=$('<tr/>').addClass(pfx+'datatable__row-detail').insertAfter(row);var detailRowTd=$('<td/>').addClass(pfx+'datatable__detail').attr('colspan',Plugin.getTotalColumns()).appendTo(detailRow);var detailSubTable=$('<table/>');$(clonedCells).each(function(){var field=$(this).data('field');var column=$.grep(options.columns,function(n,i){return field===n.field})[0];$(detailSubTable).append($('<tr class="'+pfx+'datatable__row"></tr>').append($('<td class="'+pfx+'datatable__cell"></td>').append($('<span/>').append(column.title))).append(this))});$(detailRowTd).append(detailSubTable)}else{$(this).find('i').removeClass(Plugin.getOption('layout.icons.rowDetail.expand')).addClass(Plugin.getOption('layout.icons.rowDetail.collapse'));$(detailRow).remove()}};setTimeout(function(){$(datatable.table).find('.'+pfx+'datatable__cell').show();$(datatable.tableBody).each(function(){var recursive=0;while($(this)[0].offsetWidth<$(this)[0].scrollWidth&&recursive<options.columns.length){$(datatable.table).find('.'+pfx+'datatable__row').each(function(i){var cell=$(this).find('.'+pfx+'datatable__cell:not(:hidden):not([data-autohide-disabled])').last();$(cell).hide();hiddenExist=!0});recursive++}});if(hiddenExist){$(datatable.tableBody).find('.'+pfx+'datatable__row').each(function(){if($(this).find('.'+pfx+'datatable__toggle-detail').length===0){$(this).prepend($('<td/>').addClass(pfx+'datatable__cell '+pfx+'datatable__toggle-detail').append($('<a/>').addClass(pfx+'datatable__toggle-detail').attr('href','').on('click',toggleHiddenColumns).append('<i class="'+Plugin.getOption('layout.icons.rowDetail.collapse')+'"></i>')))}
if($(datatable.tableHead).find('.'+pfx+'datatable__toggle-detail').length===0){$(datatable.tableHead).find('.'+pfx+'datatable__row').first().prepend('<th class="'+pfx+'datatable__cell '+pfx+'datatable__toggle-detail"><span></span></th>');$(datatable.tableFoot).find('.'+pfx+'datatable__row').first().prepend('<th class="'+pfx+'datatable__cell '+pfx+'datatable__toggle-detail"><span></span></th>')}else{$(datatable.tableHead).find('.'+pfx+'datatable__toggle-detail').find('span')}})}});Plugin.adjustCellsWidth.call()},setAutoColumns:function(){if(Plugin.getOption('data.autoColumns')){$.each(datatable.dataSet[0],function(k,v){var found=$.grep(options.columns,function(n,i){return k===n.field});if(found.length===0){options.columns.push({field:k,title:k})}});$(datatable.tableHead).find('.'+pfx+'datatable__row').remove();Plugin.setHeadTitle();if(Plugin.getOption('layout.footer')){$(datatable.tableFoot).find('.'+pfx+'datatable__row').remove();Plugin.setHeadTitle(datatable.tableFoot)}}},isLocked:function(){var isLocked=Plugin.lockEnabledColumns();return isLocked.left.length>0||isLocked.right.length>0},isSubtable:function(){return util.hasClass(datatable.wrap[0],pfx+'datatable--subtable')||!1},getExtraSpace:function(element){var padding=parseInt($(element).css('paddingRight'))+parseInt($(element).css('paddingLeft'));var margin=parseInt($(element).css('marginRight'))+parseInt($(element).css('marginLeft'));var border=Math.ceil($(element).css('border-right-width').replace('px',''));return padding+margin+border},dataPlaceholder:function(template,data){var result=template;$.each(data,function(key,val){result=result.replace('{{'+key+'}}',val)});return result},getTableId:function(suffix){if(typeof suffix==='undefined')suffix='';var id=$(datatable).attr('id');if(typeof id==='undefined'){id=$(datatable).attr('class').split(' ')[0]}
return id+suffix},getTablePrefix:function(suffix){if(typeof suffix!=='undefined')suffix='-'+suffix;return Plugin.getTableId()+'-'+Plugin.getDepth()+suffix},getDepth:function(){var depth=0;var table=datatable.table;do{table=$(table).parents('.'+pfx+'datatable__table');depth++}while($(table).length>0);return depth},stateKeep:function(key,value){key=Plugin.getTablePrefix(key);if(Plugin.getOption('data.saveState')===!1)return;if(Plugin.getOption('data.saveState.webstorage')&&localStorage){localStorage.setItem(key,JSON.stringify(value))}
if(Plugin.getOption('data.saveState.cookie')){Cookies.set(key,JSON.stringify(value))}},stateGet:function(key,defValue){key=Plugin.getTablePrefix(key);if(Plugin.getOption('data.saveState')===!1)return;var value=null;if(Plugin.getOption('data.saveState.webstorage')&&localStorage){value=localStorage.getItem(key)}else{value=Cookies.get(key)}
if(typeof value!=='undefined'&&value!==null){return JSON.parse(value)}},stateUpdate:function(key,value){var ori=Plugin.stateGet(key);if(typeof ori==='undefined'||ori===null)ori={};Plugin.stateKeep(key,$.extend({},ori,value))},stateRemove:function(key){key=Plugin.getTablePrefix(key);if(localStorage){localStorage.removeItem(key)}
Cookies.remove(key)},getTotalColumns:function(tablePart){if(typeof tablePart==='undefined')tablePart=datatable.tableBody;return $(tablePart).find('.'+pfx+'datatable__row').first().find('.'+pfx+'datatable__cell').length},getOneRow:function(tablePart,row,tdOnly){if(typeof tdOnly==='undefined')tdOnly=!0;var result=$(tablePart).find('.'+pfx+'datatable__row:not(.'+pfx+'datatable__row-detail):nth-child('+row+')');if(tdOnly){result=result.find('.'+pfx+'datatable__cell')}
return result},sortColumn:function(header,sort,int){if(typeof sort==='undefined')sort='asc';if(typeof int==='undefined')int=!1;var column=$(header).index();var rows=$(datatable.tableBody).find('.'+pfx+'datatable__row');var hIndex=$(header).closest('.'+pfx+'datatable__lock').index();if(hIndex!==-1){rows=$(datatable.tableBody).find('.'+pfx+'datatable__lock:nth-child('+(hIndex+1)+')').find('.'+pfx+'datatable__row')}
var container=$(rows).parent();$(rows).sort(function(a,b){var tda=$(a).find('td:nth-child('+column+')').text();var tdb=$(b).find('td:nth-child('+column+')').text();if(int){tda=parseInt(tda);tdb=parseInt(tdb)}
if(sort==='asc'){return tda>tdb?1:tda<tdb?-1:0}else{return tda<tdb?1:tda>tdb?-1:0}}).appendTo(container)},sorting:function(){var sortObj={init:function(){if(options.sortable){$(datatable.tableHead).find('.'+pfx+'datatable__cell:not(.'+pfx+'datatable__cell--check)').addClass(pfx+'datatable__cell--sort').off('click').on('click',sortObj.sortClick);sortObj.setIcon()}},setIcon:function(){var meta=Plugin.getDataSourceParam('sort');if($.isEmptyObject(meta))return;var column=Plugin.getColumnByField(meta.field);if(typeof column!=='undefined'&&typeof column.sortable!=='undefined'&&column.sortable===!1)return;var td=$(datatable.tableHead).find('.'+pfx+'datatable__cell[data-field="'+meta.field+'"]').attr('data-sort',meta.sort);var sorting=$(td).find('span');var icon=$(sorting).find('i');var icons=Plugin.getOption('layout.icons.sort');if($(icon).length>0){$(icon).removeAttr('class').addClass(icons[meta.sort])}else{$(sorting).append($('<i/>').addClass(icons[meta.sort]))}
$(td).addClass(pfx+'datatable__cell--sorted')},sortClick:function(e){var meta=Plugin.getDataSourceParam('sort');var field=$(this).data('field');var column=Plugin.getColumnByField(field);if(typeof column.sortable!=='undefined'&&column.sortable===!1)return;$(datatable.tableHead).find('th').removeClass(pfx+'datatable__cell--sorted');util.addClass(this,pfx+'datatable__cell--sorted');$(datatable.tableHead).find('.'+pfx+'datatable__cell > span > i').remove();if(options.sortable){Plugin.spinnerCallback(!0);var sort='desc';if(Plugin.getObject('field',meta)===field){sort=Plugin.getObject('sort',meta)}
sort=typeof sort==='undefined'||sort==='desc'?'asc':'desc';meta={field:field,sort:sort};Plugin.setDataSourceParam('sort',meta);sortObj.setIcon();setTimeout(function(){Plugin.dataRender('sort');$(datatable).trigger(pfx+'datatable--on-sort',meta)},300)}},};sortObj.init()},localDataUpdate:function(){var params=Plugin.getDataSourceParam();if(typeof datatable.originalDataSet==='undefined'){datatable.originalDataSet=datatable.dataSet}
var field=Plugin.getObject('sort.field',params);var sort=Plugin.getObject('sort.sort',params);var column=Plugin.getColumnByField(field);if(typeof column!=='undefined'&&Plugin.getOption('data.serverSorting')!==!0){if(typeof column.sortCallback==='function'){datatable.dataSet=column.sortCallback(datatable.originalDataSet,sort,column)}else{datatable.dataSet=Plugin.sortCallback(datatable.originalDataSet,sort,column)}}else{datatable.dataSet=datatable.originalDataSet}
if(typeof params.query==='object'&&!Plugin.getOption('data.serverFiltering')){params.query=params.query||{};var nestedSearch=function(obj){for(var field in obj){if(!obj.hasOwnProperty(field))continue;if(typeof obj[field]==='string'){if(obj[field].toLowerCase()==search||obj[field].toLowerCase().indexOf(search)!==-1){return!0}}else if(typeof obj[field]==='number'){if(obj[field]===search){return!0}}else if(typeof obj[field]==='object'){if(nestedSearch(obj[field])){return!0}}}
return!1};var search=$(Plugin.getOption('search.input')).val();if(typeof search!=='undefined'&&search!==''){search=search.toLowerCase();datatable.dataSet=$.grep(datatable.dataSet,nestedSearch);delete params.query[Plugin.getGeneralSearchKey()]}
$.each(params.query,function(k,v){if(v===''){delete params.query[k]}});datatable.dataSet=Plugin.filterArray(datatable.dataSet,params.query);datatable.dataSet=datatable.dataSet.filter(function(){return!0})}
return datatable.dataSet},filterArray:function(list,args,operator){if(typeof list!=='object'){return[]}
if(typeof operator==='undefined')operator='AND';if(typeof args!=='object'){return list}
operator=operator.toUpperCase();if($.inArray(operator,['AND','OR','NOT'])===-1){return[]}
var count=Object.keys(args).length;var filtered=[];$.each(list,function(key,obj){var to_match=obj;var matched=0;$.each(args,function(m_key,m_value){m_value=m_value instanceof Array?m_value:[m_value];var match_property=Plugin.getObject(m_key,to_match);if(typeof match_property!=='undefined'&&match_property){var lhs=match_property.toString().toLowerCase();m_value.forEach(function(item,index){if(item.toString().toLowerCase()==lhs||lhs.indexOf(item.toString().toLowerCase())!==-1){matched++}})}});if(('AND'==operator&&matched==count)||('OR'==operator&&matched>0)||('NOT'==operator&&0==matched)){filtered[key]=obj}});list=filtered;return list},resetScroll:function(){if(typeof options.detail==='undefined'&&Plugin.getDepth()===1){$(datatable.table).find('.'+pfx+'datatable__row').css('left',0);$(datatable.table).find('.'+pfx+'datatable__lock').css('top',0);$(datatable.tableBody).scrollTop(0)}},getColumnByField:function(field){if(typeof field==='undefined')return;var result;$.each(options.columns,function(i,column){if(field===column.field){result=column;return!1}});return result},getDefaultSortColumn:function(){var result;$.each(options.columns,function(i,column){if(typeof column.sortable!=='undefined'&&$.inArray(column.sortable,['asc','desc'])!==-1){result={sort:column.sortable,field:column.field};return!1}});return result},getHiddenDimensions:function(element,includeMargin){var props={position:'absolute',visibility:'hidden',display:'block',},dim={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,},hiddenParents=$(element).parents().addBack().not(':visible');includeMargin=(typeof includeMargin==='boolean')?includeMargin:!1;var oldProps=[];hiddenParents.each(function(){var old={};for(var name in props){old[name]=this.style[name];this.style[name]=props[name]}
oldProps.push(old)});dim.width=$(element).width();dim.outerWidth=$(element).outerWidth(includeMargin);dim.innerWidth=$(element).innerWidth();dim.height=$(element).height();dim.innerHeight=$(element).innerHeight();dim.outerHeight=$(element).outerHeight(includeMargin);hiddenParents.each(function(i){var old=oldProps[i];for(var name in props){this.style[name]=old[name]}});return dim},getGeneralSearchKey:function(){var searchInput=$(Plugin.getOption('search.input'));return $(searchInput).prop('name')||$(searchInput).prop('id')},getObject:function(path,object){return path.split('.').reduce(function(obj,i){return obj!==null&&typeof obj[i]!=='undefined'?obj[i]:null},object)},extendObj:function(obj,path,value){var levels=path.split('.'),i=0;function createLevel(child){var name=levels[i++];if(typeof child[name]!=='undefined'&&child[name]!==null){if(typeof child[name]!=='object'&&typeof child[name]!=='function'){child[name]={}}}else{child[name]={}}
if(i===levels.length){child[name]=value}else{createLevel(child[name])}}
createLevel(obj);return obj},rowEvenOdd:function(){$(datatable.tableBody).find('.'+pfx+'datatable__row').removeClass(pfx+'datatable__row--even');if($(datatable.wrap).hasClass(pfx+'datatable--subtable')){$(datatable.tableBody).find('.'+pfx+'datatable__row:not(.'+pfx+'datatable__row-detail):even').addClass(pfx+'datatable__row--even')}else{$(datatable.tableBody).find('.'+pfx+'datatable__row:nth-child(even)').addClass(pfx+'datatable__row--even')}},timer:0,redraw:function(){Plugin.adjustCellsWidth.call();if(Plugin.isLocked()){Plugin.scrollbar();Plugin.resetScroll();Plugin.adjustCellsHeight.call()}
Plugin.adjustLockContainer.call();Plugin.initHeight.call();return datatable},load:function(){Plugin.reload();return datatable},reload:function(){var delay=(function(){return function(callback,ms){clearTimeout(Plugin.timer);Plugin.timer=setTimeout(callback,ms)}})();delay(function(){if(!options.data.serverFiltering){Plugin.localDataUpdate()}
Plugin.dataRender();$(datatable).trigger(pfx+'datatable--on-reloaded')},Plugin.getOption('search.delay'));return datatable},getRecord:function(id){if(typeof datatable.tableBody==='undefined')datatable.tableBody=$(datatable.table).children('tbody');$(datatable.tableBody).find('.'+pfx+'datatable__cell:first-child').each(function(i,cell){if(id==$(cell).text()){var rowNumber=$(cell).closest('.'+pfx+'datatable__row').index()+1;datatable.API.record=datatable.API.value=Plugin.getOneRow(datatable.tableBody,rowNumber);return datatable}});return datatable},getColumn:function(columnName){Plugin.setSelectedRecords();datatable.API.value=$(datatable.API.record).find('[data-field="'+columnName+'"]');return datatable},destroy:function(){$(datatable).parent().find('.'+pfx+'datatable__pager').remove();var initialDatatable=$(datatable.initialDatatable).addClass(pfx+'datatable--destroyed').show();$(datatable).replaceWith(initialDatatable);datatable=initialDatatable;$(datatable).trigger(pfx+'datatable--on-destroy');Plugin.isInit=!1;initialDatatable=null;return initialDatatable},sort:function(field,sort){sort=typeof sort==='undefined'?'asc':sort;Plugin.spinnerCallback(!0);var meta={field:field,sort:sort};Plugin.setDataSourceParam('sort',meta);setTimeout(function(){Plugin.dataRender('sort');$(datatable).trigger(pfx+'datatable--on-sort',meta);$(datatable.tableHead).find('.'+pfx+'datatable__cell > span > i').remove()},300);return datatable},getValue:function(){return $(datatable.API.value).text()},setActive:function(cell){if(typeof cell==='string'){cell=$(datatable.tableBody).find('.'+pfx+'checkbox--single > [type="checkbox"][value="'+cell+'"]')}
$(cell).prop('checked',!0);var ids=[];$(cell).each(function(i,td){var row=$(td).closest('tr').addClass(pfx+'datatable__row--active');var colIndex=$(row).index()+1;$(row).closest('tbody').find('tr:nth-child('+colIndex+')').not('.'+pfx+'datatable__row-subtable').addClass(pfx+'datatable__row--active');var id=$(td).attr('value');if(typeof id!=='undefined'){ids.push(id)}});$(datatable).trigger(pfx+'datatable--on-check',[ids])},setInactive:function(cell){if(typeof cell==='string'){cell=$(datatable.tableBody).find('.'+pfx+'checkbox--single > [type="checkbox"][value="'+cell+'"]')}
$(cell).prop('checked',!1);var ids=[];$(cell).each(function(i,td){var row=$(td).closest('tr').removeClass(pfx+'datatable__row--active');var colIndex=$(row).index()+1;$(row).closest('tbody').find('tr:nth-child('+colIndex+')').not('.'+pfx+'datatable__row-subtable').removeClass(pfx+'datatable__row--active');var id=$(td).attr('value');if(typeof id!=='undefined'){ids.push(id)}});$(datatable).trigger(pfx+'datatable--on-uncheck',[ids])},setActiveAll:function(active){var checkboxes=$(datatable.table).find('> tbody, > thead').find('tr').not('.'+pfx+'datatable__row-subtable').find('.'+pfx+'datatable__cell--check [type="checkbox"]');if(active){Plugin.setActive(checkboxes)}else{Plugin.setInactive(checkboxes)}},setSelectedRecords:function(){datatable.API.record=$(datatable.tableBody).find('.'+pfx+'datatable__row--active');return datatable},getSelectedRecords:function(){Plugin.setSelectedRecords();datatable.API.record=datatable.rows('.'+pfx+'datatable__row--active').nodes();return datatable.API.record},getOption:function(path){return Plugin.getObject(path,options)},setOption:function(path,object){options=Plugin.extendObj(options,path,object)},search:function(value,columns){if(typeof columns!=='undefined')columns=$.makeArray(columns);var delay=(function(){return function(callback,ms){clearTimeout(Plugin.timer);Plugin.timer=setTimeout(callback,ms)}})();delay(function(){var query=Plugin.getDataSourceQuery();if(typeof columns==='undefined'&&typeof value!=='undefined'){var key=Plugin.getGeneralSearchKey();query[key]=value}
if(typeof columns==='object'){$.each(columns,function(k,column){query[column]=value});$.each(query,function(k,v){if(v===''||$.isEmptyObject(v)){delete query[k]}})}
Plugin.setDataSourceQuery(query);if(!options.data.serverFiltering){Plugin.localDataUpdate()}
Plugin.dataRender('search')},Plugin.getOption('search.delay'))},setDataSourceParam:function(param,value){datatable.API.params=$.extend({},{pagination:{page:1,perpage:Plugin.getOption('data.pageSize')},sort:Plugin.getDefaultSortColumn(),query:{},},datatable.API.params,Plugin.stateGet(Plugin.stateId));datatable.API.params=Plugin.extendObj(datatable.API.params,param,value);Plugin.stateKeep(Plugin.stateId,datatable.API.params)},getDataSourceParam:function(param){datatable.API.params=$.extend({},{pagination:{page:1,perpage:Plugin.getOption('data.pageSize')},sort:Plugin.getDefaultSortColumn(),query:{},},datatable.API.params,Plugin.stateGet(Plugin.stateId));if(typeof param==='string'){return Plugin.getObject(param,datatable.API.params)}
return datatable.API.params},getDataSourceQuery:function(){return Plugin.getDataSourceParam('query')||{}},setDataSourceQuery:function(query){Plugin.setDataSourceParam('query',query)},getCurrentPage:function(){return $(datatable.table).siblings('.'+pfx+'datatable__pager').last().find('.'+pfx+'datatable__pager-nav').find('.'+pfx+'datatable__pager-link.'+pfx+'datatable__pager-link--active').data('page')||1},getPageSize:function(){return $(datatable.table).siblings('.'+pfx+'datatable__pager').last().find('select.'+pfx+'datatable__pager-size').val()||10},getTotalRows:function(){return datatable.API.params.pagination.total},getDataSet:function(){return datatable.originalDataSet},hideColumn:function(fieldName){$.map(options.columns,function(column){if(fieldName===column.field){column.responsive={hidden:'xl'}}
return column});var tds=$.grep($(datatable.table).find('.'+pfx+'datatable__cell'),function(n,i){return fieldName===$(n).data('field')});$(tds).hide()},showColumn:function(fieldName){$.map(options.columns,function(column){if(fieldName===column.field){delete column.responsive}
return column});var tds=$.grep($(datatable.table).find('.'+pfx+'datatable__cell'),function(n,i){return fieldName===$(n).data('field')});$(tds).show()},nodeTr:[],nodeTd:[],nodeCols:[],recentNode:[],table:function(){if(typeof datatable.table!=='undefined'){return datatable.table}},row:function(selector){Plugin.rows(selector);Plugin.nodeTr=Plugin.recentNode=$(Plugin.nodeTr).first();return datatable},rows:function(selector){if(Plugin.isLocked()){Plugin.nodeTr=Plugin.recentNode=$(datatable.tableBody).find(selector).filter('.'+pfx+'datatable__lock--scroll > .'+pfx+'datatable__row')}else{Plugin.nodeTr=Plugin.recentNode=$(datatable.tableBody).find(selector).filter('.'+pfx+'datatable__row')}
return datatable},column:function(index){Plugin.nodeCols=Plugin.recentNode=$(datatable.tableBody).find('.'+pfx+'datatable__cell:nth-child('+(index+1)+')');return datatable},columns:function(selector){var context=datatable.table;if(Plugin.nodeTr===Plugin.recentNode){context=Plugin.nodeTr}
var columns=$(context).find('.'+pfx+'datatable__cell[data-field="'+selector+'"]');if(columns.length>0){Plugin.nodeCols=Plugin.recentNode=columns}else{Plugin.nodeCols=Plugin.recentNode=$(context).find(selector).filter('.'+pfx+'datatable__cell')}
return datatable},cell:function(selector){Plugin.cells(selector);Plugin.nodeTd=Plugin.recentNode=$(Plugin.nodeTd).first();return datatable},cells:function(selector){var cells=$(datatable.tableBody).find('.'+pfx+'datatable__cell');if(typeof selector!=='undefined'){cells=$(cells).filter(selector)}
Plugin.nodeTd=Plugin.recentNode=cells;return datatable},remove:function(){if($(Plugin.nodeTr.length)&&Plugin.nodeTr===Plugin.recentNode){$(Plugin.nodeTr).remove()}
Plugin.layoutUpdate();return datatable},visible:function(bool){if($(Plugin.recentNode.length)){var locked=Plugin.lockEnabledColumns();if(Plugin.recentNode===Plugin.nodeCols){var index=Plugin.recentNode.index();if(Plugin.isLocked()){var scrollColumns=$(Plugin.recentNode).closest('.'+pfx+'datatable__lock--scroll').length;if(scrollColumns){index+=locked.left.length+1}else if($(Plugin.recentNode).closest('.'+pfx+'datatable__lock--right').length){index+=locked.left.length+scrollColumns+1}}}
if(bool){if(Plugin.recentNode===Plugin.nodeCols){delete options.columns[index].responsive}
$(Plugin.recentNode).show()}else{if(Plugin.recentNode===Plugin.nodeCols){Plugin.setOption('columns.'+index+'.responsive',{hidden:'xl'})}
$(Plugin.recentNode).hide()}
Plugin.redraw()}},nodes:function(){return Plugin.recentNode},dataset:function(){return datatable},gotoPage:function(page){if(typeof Plugin.pagingObject!=='undefined'){Plugin.isInit=!0;Plugin.pagingObject.openPage(page)}},};$.each(Plugin,function(funcName,func){datatable[funcName]=func});if(typeof options!=='undefined'){if(typeof options==='string'){var method=options;datatable=$(this).data(pluginName);if(typeof datatable!=='undefined'){options=datatable.options;Plugin[method].apply(this,Array.prototype.slice.call(arguments,1))}}else{if(!datatable.data(pluginName)&&!$(this).hasClass(pfx+'datatable--loaded')){datatable.dataSet=null;datatable.textAlign={left:pfx+'datatable__cell--left',center:pfx+'datatable__cell--center',right:pfx+'datatable__cell--right',};options=$.extend(!0,{},$.fn[pluginName].defaults,options);datatable.options=options;Plugin.init.apply(this,[options]);$(datatable.wrap).data(pluginName,datatable)}}}else{datatable=$(this).data(pluginName);if(typeof datatable==='undefined'){$.error(pluginName+' not initialized')}
options=datatable.options}
return datatable};$.fn[pluginName].defaults={data:{type:'local',source:null,pageSize:10,saveState:{cookie:!1,webstorage:!0,},serverPaging:!1,serverFiltering:!1,serverSorting:!1,autoColumns:!1,attr:{rowProps:[],},},layout:{theme:'default',class:pfx+'datatable--brand',scroll:!1,height:null,minHeight:500,footer:!1,header:!0,customScrollbar:!0,spinner:{overlayColor:'#000000',opacity:0,type:'loader',state:'brand',message:!0,},icons:{sort:{asc:'flaticon2-arrow-up',desc:'flaticon2-arrow-down'},pagination:{next:'flaticon2-next',prev:'flaticon2-back',first:'flaticon2-fast-back',last:'flaticon2-fast-next',more:'flaticon-more-1',},rowDetail:{expand:'fa fa-caret-down',collapse:'fa fa-caret-right'},},},sortable:!0,resizable:!1,filterable:!1,pagination:!0,editable:!1,columns:[],search:{onEnter:!1,input:null,delay:400,},rows:{callback:function(){},beforeTemplate:function(){},afterTemplate:function(){},autoHide:!0,},toolbar:{layout:['pagination','info'],placement:['bottom'],items:{pagination:{type:'default',pages:{desktop:{layout:'default',pagesNumber:5,},tablet:{layout:'default',pagesNumber:3,},mobile:{layout:'compact',},},navigation:{prev:!0,next:!0,first:!0,last:!0,more:!1},pageSizeSelect:[],},info:!0,},},translate:{records:{processing:'Please wait...',noRecords:'No records found',},toolbar:{pagination:{items:{default:{first:'First',prev:'Previous',next:'Next',last:'Last',more:'More pages',input:'Page number',select:'Select page size',all:'all',},info:'Showing {{start}} - {{end}} of {{total}}',},},},},extensions:{},}}(jQuery));"use strict";(function($){var pluginName='KTDatatable';var pfx='kt-';$.fn[pluginName]=$.fn[pluginName]||{};$.fn[pluginName].checkbox=function(datatable,options){var Extension={selectedAllRows:!1,selectedRows:[],unselectedRows:[],init:function(){if(Extension.selectorEnabled()){datatable.setDataSourceParam(options.vars.selectedAllRows,!1);datatable.stateRemove('checkbox');if(options.vars.requestIds){datatable.setDataSourceParam(options.vars.requestIds,!0)}
$(datatable).on(pfx+'datatable--on-reloaded',function(){datatable.stateRemove('checkbox');datatable.setDataSourceParam(options.vars.selectedAllRows,!1);Extension.selectedAllRows=!1;Extension.selectedRows=[];Extension.unselectedRows=[]});Extension.selectedAllRows=datatable.getDataSourceParam(options.vars.selectedAllRows);$(datatable).on(pfx+'datatable--on-layout-updated',function(e,args){if(args.table!=$(datatable.wrap).attr('id')){return}
datatable.ready(function(){Extension.initVars();Extension.initEvent();Extension.initSelect()})});$(datatable).on(pfx+'datatable--on-check',function(e,ids){ids.forEach(function(id){Extension.selectedRows.push(id);Extension.unselectedRows=Extension.remove(Extension.unselectedRows,id)});var storage={};storage.selectedRows=$.unique(Extension.selectedRows);storage.unselectedRows=$.unique(Extension.unselectedRows);datatable.stateKeep('checkbox',storage)});$(datatable).on(pfx+'datatable--on-uncheck',function(e,ids){ids.forEach(function(id){Extension.unselectedRows.push(id);Extension.selectedRows=Extension.remove(Extension.selectedRows,id)});var storage={};storage.selectedRows=$.unique(Extension.selectedRows);storage.unselectedRows=$.unique(Extension.unselectedRows);datatable.stateKeep('checkbox',storage)})}},initEvent:function(){$(datatable.tableHead).find('.'+pfx+'checkbox--all > [type="checkbox"]').click(function(e){Extension.selectedRows=Extension.unselectedRows=[];datatable.stateRemove('checkbox');if($(this).is(':checked')){Extension.selectedAllRows=!0}
else{Extension.selectedAllRows=!1}
if(!options.vars.requestIds){if($(this).is(':checked')){Extension.selectedRows=$.makeArray($(datatable.tableBody).find('.'+pfx+'checkbox--single > [type="checkbox"]').map(function(i,chk){return $(chk).val()}))}
var storage={};storage.selectedRows=$.unique(Extension.selectedRows);datatable.stateKeep('checkbox',storage)}
datatable.setDataSourceParam(options.vars.selectedAllRows,Extension.selectedAllRows);$(datatable).trigger(pfx+'datatable--on-click-checkbox',[$(this)])});$(datatable.tableBody).find('.'+pfx+'checkbox--single > [type="checkbox"]').click(function(e){var id=$(this).val();if($(this).is(':checked')){Extension.selectedRows.push(id);Extension.unselectedRows=Extension.remove(Extension.unselectedRows,id)}
else{Extension.unselectedRows.push(id);Extension.selectedRows=Extension.remove(Extension.selectedRows,id)}
if(!options.vars.requestIds&&Extension.selectedRows.length<1){$(datatable.tableHead).find('.'+pfx+'checkbox--all > [type="checkbox"]').prop('checked',!1)}
var storage={};storage.selectedRows=$.unique(Extension.selectedRows);storage.unselectedRows=$.unique(Extension.unselectedRows);datatable.stateKeep('checkbox',storage);$(datatable).trigger(pfx+'datatable--on-click-checkbox',[$(this)])})},initSelect:function(){if(Extension.selectedAllRows&&options.vars.requestIds){if(!datatable.hasClass(pfx+'datatable--error')){$(datatable.tableHead).find('.'+pfx+'checkbox--all > [type="checkbox"]').prop('checked',!0)}
datatable.setActiveAll(!0);Extension.unselectedRows.forEach(function(id){datatable.setInactive(id)})}
else{Extension.selectedRows.forEach(function(id){datatable.setActive(id)});if(!datatable.hasClass(pfx+'datatable--error')&&$(datatable.tableBody).find('.'+pfx+'checkbox--single > [type="checkbox"]').not(':checked').length<1){$(datatable.tableHead).find('.'+pfx+'checkbox--all > [type="checkbox"]').prop('checked',!0)}}},selectorEnabled:function(){return $.grep(datatable.options.columns,function(n,i){return n.selector||!1})[0]},initVars:function(){var storage=datatable.stateGet('checkbox');if(typeof storage!=='undefined'){Extension.selectedRows=storage.selectedRows||[];Extension.unselectedRows=storage.unselectedRows||[]}},getSelectedId:function(path){Extension.initVars();if(Extension.selectedAllRows&&options.vars.requestIds){if(typeof path==='undefined'){path=options.vars.rowIds}
var selectedAllRows=datatable.getObject(path,datatable.lastResponse)||[];if(selectedAllRows.length>0){Extension.unselectedRows.forEach(function(id){selectedAllRows=Extension.remove(selectedAllRows,parseInt(id))})}
return selectedAllRows}
return Extension.selectedRows},remove:function(array,element){return array.filter(function(e){return e!==element})},};datatable.checkbox=function(){return Extension};if(typeof options==='object'){options=$.extend(!0,{},$.fn[pluginName].checkbox.default,options);Extension.init.apply(this,[options])}
return datatable};$.fn[pluginName].checkbox.default={vars:{selectedAllRows:'selectedAllRows',requestIds:'requestIds',rowIds:'meta.rowIds',},}}(jQuery));var defaults={layout:{icons:{pagination:{next:'flaticon2-next',prev:'flaticon2-back',first:'flaticon2-fast-back',last:'flaticon2-fast-next',more:'flaticon-more-1',},rowDetail:{expand:'fa fa-caret-down',collapse:'fa fa-caret-right'},}}};if(KTUtil.isRTL()){defaults={layout:{icons:{pagination:{next:'flaticon2-back',prev:'flaticon2-next',first:'flaticon2-fast-next',last:'flaticon2-fast-back',},rowDetail:{collapse:'fa fa-caret-down',expand:'fa fa-caret-right'},}}}}
$.extend(!0,$.fn.KTDatatable.defaults,defaults);"use strict";var KTAppLayout=function(){var main=function(){var offcanvas=new KTOffcanvas('kt_app_aside',{overlay:!0,baseClass:'kt-app__aside',closeBy:'kt_app_aside_close',toggleBy:'kt_subheader_mobile_toggle'})}
return{init:function(){main()}}}();KTUtil.ready(function(){KTAppLayout.init()});"use strict";var KTDemoPanel=function(){var demoPanel=KTUtil.getByID('kt_demo_panel');var offcanvas;var init=function(){offcanvas=new KTOffcanvas(demoPanel,{overlay:!0,baseClass:'kt-demo-panel',closeBy:'kt_demo_panel_close',toggleBy:'kt_demo_panel_toggle'});var head=KTUtil.find(demoPanel,'.kt-demo-panel__head');var body=KTUtil.find(demoPanel,'.kt-demo-panel__body');KTUtil.scrollInit(body,{disableForMobile:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){var height=parseInt(KTUtil.getViewPort().height);if(head){height=height-parseInt(KTUtil.actualHeight(head));height=height-parseInt(KTUtil.css(head,'marginBottom'))}
height=height-parseInt(KTUtil.css(demoPanel,'paddingTop'));height=height-parseInt(KTUtil.css(demoPanel,'paddingBottom'));return height}});if(typeof offcanvas!=='undefined'&&offcanvas.length===0){offcanvas.on('hide',function(){var expires=new Date(new Date().getTime()+60*60*1000);Cookies.set('kt_demo_panel_shown',1,{expires:expires})})}}
var remind=function(){if(!(encodeURI(window.location.hostname)=='keenthemes.com'||encodeURI(window.location.hostname)=='www.keenthemes.com')){return}
setTimeout(function(){if(!Cookies.get('kt_demo_panel_shown')){var expires=new Date(new Date().getTime()+15*60*1000);Cookies.set('kt_demo_panel_shown',1,{expires:expires});offcanvas.show()}},4000)}
return{init:function(){init();remind()}}}();$(document).ready(function(){KTDemoPanel.init()});"use strict";var KTOffcanvasPanel=function(){var notificationPanel=KTUtil.get('kt_offcanvas_toolbar_notifications');var quickActionsPanel=KTUtil.get('kt_offcanvas_toolbar_quick_actions');var profilePanel=KTUtil.get('kt_offcanvas_toolbar_profile');var searchPanel=KTUtil.get('kt_offcanvas_toolbar_search');var initNotifications=function(){var head=KTUtil.find(notificationPanel,'.kt-offcanvas-panel__head');var body=KTUtil.find(notificationPanel,'.kt-offcanvas-panel__body');var offcanvas=new KTOffcanvas(notificationPanel,{overlay:!0,baseClass:'kt-offcanvas-panel',closeBy:'kt_offcanvas_toolbar_notifications_close',toggleBy:'kt_offcanvas_toolbar_notifications_toggler_btn'});KTUtil.scrollInit(body,{disableForMobile:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){var height=parseInt(KTUtil.getViewPort().height);if(head){height=height-parseInt(KTUtil.actualHeight(head));height=height-parseInt(KTUtil.css(head,'marginBottom'))}
height=height-parseInt(KTUtil.css(notificationPanel,'paddingTop'));height=height-parseInt(KTUtil.css(notificationPanel,'paddingBottom'));return height}})}
var initQucikActions=function(){var head=KTUtil.find(quickActionsPanel,'.kt-offcanvas-panel__head');var body=KTUtil.find(quickActionsPanel,'.kt-offcanvas-panel__body');var offcanvas=new KTOffcanvas(quickActionsPanel,{overlay:!0,baseClass:'kt-offcanvas-panel',closeBy:'kt_offcanvas_toolbar_quick_actions_close',toggleBy:'kt_offcanvas_toolbar_quick_actions_toggler_btn'});KTUtil.scrollInit(body,{disableForMobile:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){var height=parseInt(KTUtil.getViewPort().height);if(head){height=height-parseInt(KTUtil.actualHeight(head));height=height-parseInt(KTUtil.css(head,'marginBottom'))}
height=height-parseInt(KTUtil.css(quickActionsPanel,'paddingTop'));height=height-parseInt(KTUtil.css(quickActionsPanel,'paddingBottom'));return height}})}
var initProfile=function(){var head=KTUtil.find(profilePanel,'.kt-offcanvas-panel__head');var body=KTUtil.find(profilePanel,'.kt-offcanvas-panel__body');var offcanvas=new KTOffcanvas(profilePanel,{overlay:!0,baseClass:'kt-offcanvas-panel',closeBy:'kt_offcanvas_toolbar_profile_close',toggleBy:'kt_offcanvas_toolbar_profile_toggler_btn'});KTUtil.scrollInit(body,{disableForMobile:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){var height=parseInt(KTUtil.getViewPort().height);if(head){height=height-parseInt(KTUtil.actualHeight(head));height=height-parseInt(KTUtil.css(head,'marginBottom'))}
height=height-parseInt(KTUtil.css(profilePanel,'paddingTop'));height=height-parseInt(KTUtil.css(profilePanel,'paddingBottom'));return height}})}
var initSearch=function(){var head=KTUtil.find(searchPanel,'.kt-offcanvas-panel__head');var body=KTUtil.find(searchPanel,'.kt-offcanvas-panel__body');var offcanvas=new KTOffcanvas(searchPanel,{overlay:!0,baseClass:'kt-offcanvas-panel',closeBy:'kt_offcanvas_toolbar_search_close',toggleBy:'kt_offcanvas_toolbar_search_toggler_btn'});KTUtil.scrollInit(body,{disableForMobile:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){var height=parseInt(KTUtil.getViewPort().height);if(head){height=height-parseInt(KTUtil.actualHeight(head));height=height-parseInt(KTUtil.css(head,'marginBottom'))}
height=height-parseInt(KTUtil.css(searchPanel,'paddingTop'));height=height-parseInt(KTUtil.css(searchPanel,'paddingBottom'));return height}})}
return{init:function(){initNotifications();initQucikActions();initProfile();initSearch()}}}();$(document).ready(function(){KTOffcanvasPanel.init()});"use strict";var KTQuickPanel=function(){var panel=KTUtil.get('kt_quick_panel');var notificationPanel=KTUtil.get('kt_quick_panel_tab_notifications');var logsPanel=KTUtil.get('kt_quick_panel_tab_logs');var settingsPanel=KTUtil.get('kt_quick_panel_tab_settings');var getContentHeight=function(){var height;var nav=KTUtil.find(panel,'.kt-quick-panel__nav');var content=KTUtil.find(panel,'.kt-quick-panel__content');height=parseInt(KTUtil.getViewPort().height)-parseInt(KTUtil.actualHeight(nav))-(2*parseInt(KTUtil.css(nav,'padding-top')))-10;return height}
var initOffcanvas=function(){var offcanvas=new KTOffcanvas(panel,{overlay:!0,baseClass:'kt-quick-panel',closeBy:'kt_quick_panel_close_btn',toggleBy:'kt_quick_panel_toggler_btn'})}
var initNotifications=function(){KTUtil.scrollInit(notificationPanel,{disableForMobile:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){return getContentHeight()}})}
var initLogs=function(){KTUtil.scrollInit(logsPanel,{disableForMobile:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){return getContentHeight()}})}
var initSettings=function(){KTUtil.scrollInit(settingsPanel,{disableForMobile:!0,resetHeightOnDestroy:!0,handleWindowResize:!0,height:function(){return getContentHeight()}})}
var updatePerfectScrollbars=function(){$(panel).find('a[data-toggle="tab"]').on('shown.bs.tab',function(e){KTUtil.scrollUpdate(notificationPanel);KTUtil.scrollUpdate(logsPanel);KTUtil.scrollUpdate(settingsPanel)})}
return{init:function(){initOffcanvas();initNotifications();initLogs();initSettings();updatePerfectScrollbars()}}}();$(document).ready(function(){KTQuickPanel.init()});"use strict";var KTQuickSearch=function(){var target;var form;var input;var closeIcon;var resultWrapper;var resultDropdown;var resultDropdownToggle;var inputGroup;var query='';var hasResult=!1;var timeout=!1;var isProcessing=!1;var requestTimeout=200;var spinnerClass='kt-spinner kt-spinner--input kt-spinner--sm kt-spinner--brand kt-spinner--right';var resultClass='kt-quick-search--has-result';var minLength=2;var showProgress=function(){isProcessing=!0;KTUtil.addClass(inputGroup,spinnerClass);if(closeIcon){KTUtil.hide(closeIcon)}}
var hideProgress=function(){isProcessing=!1;KTUtil.removeClass(inputGroup,spinnerClass);if(closeIcon){if(input.value.length<minLength){KTUtil.hide(closeIcon)}else{KTUtil.show(closeIcon,'flex')}}}
var showDropdown=function(){if(resultDropdownToggle&&!KTUtil.hasClass(resultDropdown,'show')){$(resultDropdownToggle).dropdown('toggle');$(resultDropdownToggle).dropdown('update')}}
var hideDropdown=function(){if(resultDropdownToggle&&KTUtil.hasClass(resultDropdown,'show')){$(resultDropdownToggle).dropdown('toggle')}}
var processSearch=function(){if(hasResult&&query===input.value){hideProgress();KTUtil.addClass(target,resultClass);showDropdown();KTUtil.scrollUpdate(resultWrapper);return}
query=input.value;KTUtil.removeClass(target,resultClass);showProgress();setTimeout(function(){$.ajax({url:'https://keenthemes.com/metronic/themes/themes/metronic/dist/preview/inc/api/quick_search.php',data:{query:query},dataType:'html',success:function(res){hasResult=!0;hideProgress();KTUtil.addClass(target,resultClass);KTUtil.setHTML(resultWrapper,res);showDropdown();KTUtil.scrollUpdate(resultWrapper)},error:function(res){hasResult=!1;hideProgress();KTUtil.addClass(target,resultClass);KTUtil.setHTML(resultWrapper,'<span class="kt-quick-search__message">Connection error. Pleae try again later.</div>');showDropdown();KTUtil.scrollUpdate(resultWrapper)}})},1000)}
var handleCancel=function(e){input.value='';query='';hasResult=!1;KTUtil.hide(closeIcon);KTUtil.removeClass(target,resultClass);hideDropdown()}
var handleSearch=function(){if(input.value.length<minLength){hideProgress();hideDropdown();return}
if(isProcessing==!0){return}
if(timeout){clearTimeout(timeout)}
timeout=setTimeout(function(){processSearch()},requestTimeout)}
return{init:function(element){target=element;form=KTUtil.find(target,'.kt-quick-search__form');input=KTUtil.find(target,'.kt-quick-search__input');closeIcon=KTUtil.find(target,'.kt-quick-search__close');resultWrapper=KTUtil.find(target,'.kt-quick-search__wrapper');resultDropdown=KTUtil.find(target,'.dropdown-menu');resultDropdownToggle=KTUtil.find(target,'[data-toggle="dropdown"]');inputGroup=KTUtil.find(target,'.input-group');KTUtil.addEvent(input,'keyup',handleSearch);KTUtil.addEvent(input,'focus',handleSearch);form.onkeypress=function(e){var key=e.charCode||e.keyCode||0;if(key==13){e.preventDefault()}}
KTUtil.addEvent(closeIcon,'click',handleCancel);var toggle=KTUtil.getByID('kt_quick_search_toggle');if(toggle){$(toggle).on('shown.bs.dropdown',function(){input.focus()})}}}};var KTQuickSearchMobile=KTQuickSearch;$(document).ready(function(){if(KTUtil.get('kt_quick_search_default')){KTQuickSearch().init(KTUtil.get('kt_quick_search_default'))}
if(KTUtil.get('kt_quick_search_inline')){KTQuickSearchMobile().init(KTUtil.get('kt_quick_search_inline'))}});"use strict";var KTLayout=function(){var body;var header;var headerMenu;var headerMenuOffcanvas;var mobileHeaderTopbarToggle;var asideMenu;var asideMenuOffcanvas;var scrollTop;var pageStickyPortlet;var initHeader=function(){var tmp;var headerEl=KTUtil.get('kt_header');var options={classic:{desktop:!0,mobile:!1},offset:{desktop:parseInt(KTUtil.css(headerEl,'height'))+200},minimize:{mobile:!1,desktop:{on:'kt-header--minimize'}}};header=new KTHeader('kt_header',options);if(asideMenu){header.on('minimizeOn',function(){asideMenu.scrollReInit()});header.on('minimizeOff',function(){asideMenu.scrollReInit()})}}
var initHeaderMenu=function(){headerMenuOffcanvas=new KTOffcanvas('kt_header_menu_wrapper',{overlay:!0,baseClass:'kt-header-menu-wrapper',closeBy:'kt_header_menu_mobile_close_btn',toggleBy:{target:'kt_header_mobile_toggler',state:'kt-header-mobile__toolbar-toggler--active'}});headerMenu=new KTMenu('kt_header_menu',{submenu:{desktop:'dropdown',tablet:'accordion',mobile:'accordion'},accordion:{slideSpeed:200,expandAll:!1}})}
var initHeaderMenuSecond=function(){headerMenuOffcanvas=new KTOffcanvas('kt_header_menu_wrapper_second',{overlay:!0,baseClass:'kt-header-menu-wrapper',closeBy:'kt_header_menu_mobile_close_btn',toggleBy:{target:'btn_top_menu',state:'kt-header-mobile__toolbar-toggler--active'}});headerMenu=new KTMenu('kt_header_menu_second',{submenu:{desktop:'dropdown',tablet:'accordion',mobile:'accordion'},accordion:{slideSpeed:200,expandAll:!1}})}
var initHeaderTopbar=function(){mobileHeaderTopbarToggle=new KTToggle('kt_header_mobile_topbar_toggler',{target:'body',targetState:'kt-header__topbar--mobile-on',togglerState:'kt-header-mobile__toolbar-topbar-toggler--active'})}
var initAside=function(){var asidBrandHover=!1;var aside=KTUtil.get('kt_aside');var asideBrand=KTUtil.get('kt_aside_brand');var asideOffcanvasClass=KTUtil.hasClass(aside,'kt-aside--offcanvas-default')?'kt-aside--offcanvas-default':'kt-aside';asideMenuOffcanvas=new KTOffcanvas('kt_aside',{baseClass:asideOffcanvasClass,overlay:!0,closeBy:'kt_aside_close_btn',toggleBy:{target:'kt_aside_mobile_toggler',state:'kt-header-mobile__toolbar-toggler--active'}});if(KTUtil.hasClass(body,'kt-aside--fixed')){var insideTm;var outsideTm;KTUtil.addEvent(aside,'mouseenter',function(e){e.preventDefault();if(KTUtil.isInResponsiveRange('desktop')===!1){return}
if(outsideTm){clearTimeout(outsideTm);outsideTm=null}
insideTm=setTimeout(function(){if(KTUtil.hasClass(body,'kt-aside--minimize')&&KTUtil.isInResponsiveRange('desktop')){KTUtil.removeClass(body,'kt-aside--minimize');KTUtil.addClass(body,'kt-aside--minimizing');KTUtil.transitionEnd(body,function(){KTUtil.removeClass(body,'kt-aside--minimizing')});KTUtil.addClass(body,'kt-aside--minimize-hover');asideMenu.scrollUpdate();asideMenu.scrollTop()}},50)});KTUtil.addEvent(aside,'mouseleave',function(e){e.preventDefault();if(KTUtil.isInResponsiveRange('desktop')===!1){return}
if(insideTm){clearTimeout(insideTm);insideTm=null}
outsideTm=setTimeout(function(){if(KTUtil.hasClass(body,'kt-aside--minimize-hover')&&KTUtil.isInResponsiveRange('desktop')){KTUtil.removeClass(body,'kt-aside--minimize-hover');KTUtil.addClass(body,'kt-aside--minimize');KTUtil.addClass(body,'kt-aside--minimizing');KTUtil.transitionEnd(body,function(){KTUtil.removeClass(body,'kt-aside--minimizing')});asideMenu.scrollUpdate();asideMenu.scrollTop()}},100)})}}
var initAsideMenu=function(){var menu=KTUtil.get('kt_aside_menu');var menuDesktopMode=(KTUtil.attr(menu,'data-ktmenu-dropdown')==='1'?'dropdown':'accordion');var scroll;if(KTUtil.attr(menu,'data-ktmenu-scroll')==='1'){scroll={rememberPosition:!0,height:function(){var height;if(KTUtil.isInResponsiveRange('desktop')){height=parseInt(KTUtil.getViewPort().height)-parseInt(KTUtil.actualHeight('kt_header',!1));height=height-parseInt(KTUtil.css(menu,'marginTop'))-parseInt(KTUtil.css(menu,'marginBottom'))}else{height=parseInt(KTUtil.getViewPort().height)}
return height}}}
asideMenu=new KTMenu('kt_aside_menu',{scroll:scroll,submenu:{desktop:menuDesktopMode,tablet:'accordion',mobile:'accordion'},accordion:{expandAll:!1}})}
var initScrolltop=function(){var scrolltop=new KTScrolltop('kt_scrolltop',{offset:200,speed:400})}
var initPageStickyPortlet=function(){return new KTPortlet('kt_page_portlet',{sticky:{offset:parseInt(KTUtil.css(KTUtil.get('kt_header'),'height'))+200,zIndex:90,position:{top:function(){if(KTUtil.isInResponsiveRange('desktop')){return parseInt(KTUtil.css(KTUtil.get('kt_header'),'height'))}else{return parseInt(KTUtil.css(KTUtil.get('kt_header_mobile'),'height'))}},left:function(){if(KTUtil.isInResponsiveRange('tablet-and-mobile')){return parseInt(KTUtil.css(KTUtil.get('kt_body'),'paddingLeft'))}
return},right:function(){if(KTUtil.isInResponsiveRange('tablet-and-mobile')){return parseInt(KTUtil.css(KTUtil.get('kt_body'),'paddingRight'))}
return}}}})}
return{init:function(){body=KTUtil.get('body');this.initHeader();this.initAside();this.initPageStickyPortlet();$('#kt_aside_menu, #kt_header_menu').on('click','.kt-menu__link[href="#"]',function(){if(location.hostname.match('keenthemes.com')){swal.fire("You have clicked on a dummy link!","To browse the theme features please refer to the header menu.","warning")}else{swal.fire("You have clicked on a dummy link!","This demo shows only its unique layout features. <b>Keen's</b> all available features can be re-used in this and any other demos by refering to <b>the default demo</b>.","warning")}})},initHeader:function(){initHeader();initHeaderMenu();initHeaderMenuSecond();initHeaderTopbar();initScrolltop()},initAside:function(){initAside();initAsideMenu()},getAsideMenu:function(){return asideMenu},initPageStickyPortlet:function(){if(!KTUtil.get('kt_page_portlet')){return}
pageStickyPortlet=initPageStickyPortlet();pageStickyPortlet.initSticky();KTUtil.addResizeHandler(function(){pageStickyPortlet.updateSticky()});initPageStickyPortlet()},closeMobileAsideMenuOffcanvas:function(){if(KTUtil.isMobileDevice()){asideMenuOffcanvas.hide()}},closeMobileHeaderMenuOffcanvas:function(){if(KTUtil.isMobileDevice()){headerMenuOffcanvas.hide()}}}}();$(document).ready(function(){KTLayout.init()})